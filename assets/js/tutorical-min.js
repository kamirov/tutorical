function setupOvernightTimeLinks(e){$(".show-overnight-times-links",e).click(function(){toggleOvernight($(this))})}function toggleOvernight(e){var t=e.parents(".availabilities").find(".overnight-rows-cont");if(t.is(":visible")){t.slideUp(200);e.text("Show overnight times")}else{if(navigator.appVersion.indexOf("MSIE 7.")!=-1){t.show()}else{t.slideDown(200)}e.text("Hide overnight times")}}function updateValidity(e,t){if(t)$("[data-corresponding-field="+e+"]").val(false);else $("[data-corresponding-field="+e+"]").val(true)}function nl2br(e,t){var n=t||typeof t==="undefined"?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")}function stripBrs(e){return e.replace(/<br\s*\/?>/mg,"")}function br2nl(e){return e.replace(/<br\s*\/?>/mg,"\n")}function isValidEmail(e){var t=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return t.test(e)}function scrollToTop(){$("html, body").animate({scrollTop:0},400)}function ajaxFailNoty(e){var t="Sorry, something happened on our end. Please try again.<hr>If the problem persists, please contact us.",n="warning",r=4e3;$.noty.closeAll();if(typeof e=="undefined"){noty({text:t,type:n,timeout:r})}else{$(e).noty({text:t,type:n,timeout:r})}}function toMoney(e){var e=e.toString()||"0";e=e.replace("$","");var t=e.split(".")[0],n=(e.split(".")[1]||"")+"00";t=t.split("").reverse().join("").replace(/(\d{3}(?!$))/g,"$1").split("").reverse().join("");return t+"."+n.slice(0,2)}function strcasecmp(e,t){var n=(e+"").toLowerCase();var r=(t+"").toLowerCase();if(n>r)return 1;else if(n==r)return 0;return-1}function updatePersistentHeaders(){$(".persistent-headers").each(function(){var e=$(this),t=e.attr("data-appear-offset"),n=$(window).scrollTop(),r=200;if(n>=t){e.stop(true,true).fadeIn(r)}else{e.stop(true,true).fadeOut(r)}})}function parseLocation(e){var t=e.length,n=[];for(var r=0;r<t;r++){var i=e[r].types[0];if(i=="colloquial_area"||i=="locality"||i=="administrative_area_level_3"){n["city"]=e[r].long_name}if(i=="country"){n["country"]=e[r].long_name}if(i=="establishment"||i=="postal_code"||i=="postal_code_prefix"||i=="route"||i=="neighborhood"){n["specific"]=e[r].long_name}}if(!n["city"])n["city"]="";if(!n["country"])n["country"]="";if(!n["specific"])n["specific"]="";return n}function showReactionNotice(){if(window.reactionNotice){noty(reactionNotice)}}function scrollAndFocus(e,t){var n=parseInt(e.attr("data-additional-height"));if(isNaN(n))n=0;var r=$(window).scrollTop(),i=$(window).height(),s=r+i,o=e.outerHeight()+n,u=e.offset().top,a=u+o,f,l=$(window).scrollLeft(),c=$(window).width(),h=l+c,p=e.outerWidth(),d=e.offset().left,v=d+p,m,g=300;if(o>=i){f=u}else{if(u>=r&&u<s){if(a>s){f=r+(a-s)}}else if(a>=s){f=r+(a-s)}else{f=u}}if(p>=c){m=d}else{if(d>=l&&d<h){if(v>h){m=l+(v-h)}}else if(v>=h){m=l+(v-h)}else{m=d}}scrollPage(e,f,m,g,t)}function scrollPage(e,t,n,r,i){$("html, body").animate({scrollTop:t,scrollLeft:n},r,function(){if(i==true){e.find("input, textarea, select").not("[type=hidden], [type=button], [type=submit]").first().focus()}})}function activateToggleButtons(){$(".toggle-buttons").click(function(){var e=$(this),t=$(e.attr("data-toggle-container")),n=e.attr("data-toggle-text"),r=200;if(t.is(":visible")){e.removeClass("active")}else{e.addClass("active")}t.fadeToggle(r,function(){scrollAndFocus($(this))});if(n){e.attr("data-toggle-text",e.text());e.text($toggleText)}})}function activateChangeShows(){$("[data-change-selector]").change(function(){var e=$(this),t=$(e.attr("data-change-selector")),n=200;if(this.checked){t.stop(true,true).slideDown(n)}else{t.stop(true,true).slideUp(n)}})}function stripTags(e){return e.replace(/(<([^>]+)>)/ig,"")}function activateTempReveals(){$("[data-modal-state=temp]").click(function(){var e=$(this),t=$("#"+e.attr("data-reveal-id")),n=e.attr("data-redirect");t.foundation("reveal","open").find("form").attr("action",n);$.noty.closeAll();return false})}var fastEffectSpeed=200;$(function(){activateToggleButtons();activateChangeShows();showReactionNotice();$(".focus-messages").each(function(){var e=$(this),t=e.siblings("input");t.focus(function(){e.stop(true,true).slideDown(fastEffectSpeed)}).blur(function(){e.stop(true,true).slideUp(fastEffectSpeed)})});$(".password").setcheckCaps();$(".select-on-click-inputs").click(function(){$(this).select()});$(".check-none").click(function(){$(this).parents(".form-elements").find(":checkbox").prop("checked","").change();return false});$(".check-all").click(function(){$(this).parents(".form-elements").find(":checkbox").prop("checked","checked").change();return false});$(":input[name]").not("[type=button], [type=submit]").on("keydown",function(){$(this).showErrors("")});$("[type=checkbox], [type=radio]").on("change",function(){$(this).showErrors("")});$("[href=#top]").click(function(){$("html, body").animate({scrollTop:0},200);return false});$(window).scroll(function(){updatePersistentHeaders()});$("#search-location, .hourly-rates").placeholder();$(".no-submit").submit(function(){return false});$(".no-enter-submit").keydown(function(e){if(e.keyCode==13){e.preventDefault();return false}});$(".on-enter-submit").keydown(function(e){if(e.keyCode==13){e.preventDefault();return false}});var e=$("#account-nav li.active");if(e.length){var t=e.position().left+e.outerWidth()/2;$("#account-nav-indicator").css({left:t-8})}$(".email").addMailcheck()});(function(e){e.fn.addMailcheck=function(){return this.each(function(){function i(){r.slideUp(t)}var t=300,n=e(this),r=n.siblings(".form-input-notes").find(".email-suggestion");n.blur(function(){n.mailcheck({suggested:function(e,n){r.find(".address-part").text(n.address).end().find(".domain-part").text(n.domain).end().slideDown(t)},empty:function(e){i()}})});r.find(".suggested-values").click(function(){n.val(e(this).text()).hideErrors().focus();i()}).keypress(function(t){n.val(e(this).text()).hideErrors().focus();i()})})}})(jQuery);(function(){function n(e){return e.toLowerCase()}function r(e){return e.substr(0,1).toUpperCase()+e.substr(1)}var e="(a|an|and|as|at|but|by|en|for|if|in|of|on|or|the|to|v[.]?|via|vs[.]?)";var t="([!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]*)";this.toTitleCase=function(i){var s=[],o=/[:.;?!] |(?: |^)["Ò]/g,u=0;while(true){var a=o.exec(i);s.push(i.substring(u,a?a.index:i.length).replace(/\b([A-Za-z][a-z.'Õ]*)\b/g,function(e){return/[A-Za-z]\.[A-Za-z]/.test(e)?e:r(e)}).replace(RegExp("\\b"+e+"\\b","ig"),n).replace(RegExp("^"+t+e+"\\b","ig"),function(e,t,n){return t+r(n)}).replace(RegExp("\\b"+e+t+"$","ig"),r));u=o.lastIndex;if(a)s.push(a[0]);else break}return s.join("").replace(/ V(s?)\. /ig," v$1. ").replace(/(['Õ])S\b/ig,"$1s").replace(/\b(AT&T|Q&A)\b/ig,function(e){return e.toUpperCase()})}})();(function(e){e.fn.saveFormField=function(){return this.each(function(){})};e.fn.addEmailValidation=function(t){t=t||0;return this.each(function(){var n=e(this);n.after('<input type="hidden" class="form-validity-indicators" data-corresponding-field="'+n.attr("id")+'" value="false">');n.blur(function(){n.validateEmail(t)}).focus(function(){n.hideErrors()})})};e.fn.validateEmail=function(t){return this.each(function(){var n=e(this);formType=t?"registerForm":"loginForm";window.awaitingResponse[formType]=true;e.ajax({type:"POST",url:baseUrl("auth/validate_email"),data:{email:n.attr("value"),is_register:t}}).done(function(e){window.awaitingResponse[formType]=false;n.showErrors(e);updateValidity(n.attr("id"),e)})})};e.fn.addValidation=function(t){var n=e.extend({type:"regular",event:"blur",showGood:false,data:{},ajax:false},t);var r={start:'<div class="error-messages">',end:"</div>"};return this.each(function(){var t=e(this);t.after('<input type="hidden" class="form-validity-indicators" data-corresponding-field="'+t.attr("id")+'" value="false">');t.on(n.event,function(){var i=t.val(),s="";switch(n.type){case"password":if(i.length==0){s+=r.start+"But...but where's the password?"+r.end}break;case"auth_password":var o=400;if(i.length==0){s+=r.start+"But...but where's the password?"+r.end;t.showErrors(s);updateValidity(t.attr("id"),s)}else if(n.data.userId){if(n.data.loader){var u=e(n.data.loader.selector).fadeIn(o).css("display",n.data.loader.display?n.data.loader.display:"block")}e.ajax({type:"POST",url:baseUrl("account/confirm_password"),data:{password:i}}).done(function(e){t.showErrors(e);updateValidity(t.attr("id"),e)}).always(function(){if(n.data.loader){u.hide()}})}else if(n.data.emailSelector){if(n.data.loader){var u=e(n.data.loader.selector).fadeIn(o).css("display",n.data.loader.display?n.data.loader.display:"block")}e.ajax({type:"POST",url:baseUrl("auth/check_password"),data:{password:i,email:n.data.emailSelector.val()}}).done(function(e){t.showErrors(e);updateValidity(t.attr("id"),e)}).always(function(){if(n.data.loader){u.fadeOut(o)}})}break;case"location":if(i.length==0){s+=r.start+"Please don't leave me blank."+r.end}else if(!(e("#lat").val()&&e("#lon").val()&&e("viewport"))){s+=r.start+"Sorry, there was a problem getting info from Google.<br>Please check for a typo or try different location."+r.end}else{if(!(e("#country").val()||e("#city").val())){s+=r.start+"Sorry, your location must include a city/country."+r.end}else if(!e("#country").val()){s+=r.start+"Sorry, your location must include a country."+r.end}else if(!e("#city").val()){s+=r.start+"Sorry, your location must include a city."+r.end}}break;case"email":if(i.length==0){s+=r.start+"Please don't leave me blank."+r.end}else if(!isValidEmail(i)){s+=r.start+"Sorry, that's not a valid email."+r.end}break;default:if(i.length==0){s+=r.start+"Please don't leave me blank."+r.end}}if(!n.ajax){t.showErrors(s);updateValidity(t.attr("id"),s)}});t.keydown(function(){t.showErrors("")});t.focus(function(){t.hideErrors()})})};e.fn.validate=function(t){return this.each(function(){var n=e(this),r=false;n.find("[name]").not(".input-clones").each(function(){var n=e(this),i=n.attr("name").replace("[]",""),s="";if(t&&t.hasOwnProperty(i)){s=t[i];if(!r){n.prop("disabled",false).focus();r=true}}n.showErrors(s)})})};e.fn.showErrors=function(t,n){var n=typeof n==="undefined"?"":n;return this.each(function(){var r=e(this),i=200,s=r.parents(".form-inputs"),o=r.parents("form"),u=r.attr("name").replace("[]",""),a=o.find(".error-messages[data-input-name="+u+"]");if(a.length===0)a=s.find(".error-messages");if(t){t='<span class="'+n+'">'+t+"</span>";a.html(t).stop(true,true).slideDown(i)}else{a.empty().stop(true,true).slideUp(i)}})};e.fn.hideErrors=function(){return this.each(function(){var t=e(this),n=200,r=t.attr("id"),i=t.parents(".form-inputs").find(".error-messages");i.hide();t.removeClass("form-errors",n/2).removeClass("form-good",n/2)})};e.fn.checkAutofill=function(){return this.each(function(){var t=e(this);if(!t.attr("data-autofill-checked")){t.find("input, textarea").each(function(){e(this).blur()});t.attr("data-autofill-checked","true")}})};e.fn.isValid=function(){var t=this,n=true;e(e(".form-validity-indicators",t).get().reverse()).each(function(){var t=e(this),r=t.attr("data-corresponding-field");if(t.val()=="false"){if(globalAutofocus)e("#"+r).focus();e("#"+r).siblings(".current-errors").show();n=false}});return n};e.fn.textWidth=function(){var t=e(this),n=t.children(),r=e('<span style="display: inline-block;" />'),i;n.wrap(r);i=n.parent().width();n.unwrap();return i};e.fn.setcheckCaps=function(){return this.each(function(){var t=e(this),n=200,r="<b>Caps Lock is on</b>";t.parents("form").submit(function(){e(this).find(".info-messages").empty().hide()});t.keypress(function(e){var i=String.fromCharCode(e.which);if(i.toUpperCase()===i&&i.toLowerCase()!==i&&!e.shiftKey){t.attr("data-caps","on");t.siblings(".info-messages").add(".form-input-notes-conts .info-messages").html(r).stop(true,true).slideDown(n)}else{t.attr("data-caps","off");t.siblings(".info-messages").add(".form-input-notes-conts .info-messages").empty().hide()}}).keydown(function(e){})})}})(jQuery);if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.ltrim=function(){return this.replace(/^\s+/,"")};String.prototype.rtrim=function(){return this.replace(/\s+$/,"")};String.prototype.fulltrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")}}$.fn.exists=function(){return this.length!==0};$.fn.autosize_select=function(e){var t=30,n="ae-select-width-cont",r=$("#"+n);if(typeof e==="undefined")e=30;if(!r.length){r=$('<span id="ae-select-width-cont">').appendTo("body")}return this.each(function(){function n(){var n=t.find("option:selected").text(),i;r.text(n);i=r.width()+e;t.width(i)}var t=$(this);n();t.change(n)})}