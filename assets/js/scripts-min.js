function noty(e){var t=0,n={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onClosed:"callback.afterClose"};jQuery.each(e,function(r,i){if(n[r]){t++;var s=n[r].split(".");if(!e[s[0]])e[s[0]]={};e[s[0]][s[1]]=i?i:function(){};delete e[r]}});if(!e.closeWith){e.closeWith=jQuery.noty.defaults.closeWith}if(e.hasOwnProperty("closeButton")){t++;if(e.closeButton)e.closeWith.push("button");delete e.closeButton}if(e.hasOwnProperty("closeOnSelfClick")){t++;if(e.closeOnSelfClick)e.closeWith.push("click");delete e.closeOnSelfClick}if(e.hasOwnProperty("closeOnSelfOver")){t++;if(e.closeOnSelfOver)e.closeWith.push("hover");delete e.closeOnSelfOver}if(e.hasOwnProperty("custom")){t++;if(e.custom.container!="null")e.custom=e.custom.container}if(e.hasOwnProperty("cssPrefix")){t++;delete e.cssPrefix}if(e.theme=="noty_theme_default"){t++;e.theme="defaultTheme"}if(!e.hasOwnProperty("dismissQueue")){e.dismissQueue=jQuery.noty.defaults.dismissQueue}if(e.buttons){jQuery.each(e.buttons,function(e,n){if(n.click){t++;n.onClick=n.click;delete n.click}if(n.type){t++;n.addClass=n.type;delete n.type}})}if(t){if(typeof console!=="undefined"&&console.warn){console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options.")}}return jQuery.notyRenderer.init(e)}function MarkerClusterer(e,t,n){this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=e;this.markers_=[];this.clusters_=[];this.sizes=[53,56,66,78,90];this.styles_=[];this.ready_=false;var r=n||{};this.gridSize_=r["gridSize"]||60;this.minClusterSize_=r["minimumClusterSize"]||2;this.maxZoom_=r["maxZoom"]||null;this.styles_=r["styles"]||[];this.imagePath_=r["imagePath"]||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=r["imageExtension"]||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=true;if(r["zoomOnClick"]!=undefined){this.zoomOnClick_=r["zoomOnClick"]}this.averageCenter_=false;if(r["averageCenter"]!=undefined){this.averageCenter_=r["averageCenter"]}this.setupStyles_();this.setMap(e);this.prevZoom_=this.map_.getZoom();var i=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=i.map_.getZoom();if(i.prevZoom_!=e){i.prevZoom_=e;i.resetViewport()}});google.maps.event.addListener(this.map_,"idle",function(){i.redraw()});if(t&&t.length){this.addMarkers(t,false)}}function Cluster(e){this.markerClusterer_=e;this.map_=e.getMap();this.gridSize_=e.getGridSize();this.minClusterSize_=e.getMinClusterSize();this.averageCenter_=e.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,n){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=t;this.padding_=n||0;this.cluster_=e;this.center_=null;this.map_=e.getMap();this.div_=null;this.sums_=null;this.visible_=false;this.setMap(this.map_)}(function(e,t,n){function f(e){var t={},r=/^jQuery\d+$/;n.each(e.attributes,function(e,n){if(n.specified&&!r.test(n.name)){t[n.name]=n.value}});return t}function l(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder")){if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===true){return s[0].value=r}s.focus()}else{i.value="";s.removeClass("placeholder");i==t.activeElement&&i.select()}}}function c(){var e,t=this,r=n(t),i=r,s=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(f(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":true,"placeholder-id":s}).bind("focus.placeholder",l);r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder");r[0].value=r.attr("placeholder")}else{r.removeClass("placeholder")}}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=n.fn,o=n.valHooks,u,a;if(r&&i){a=s.placeholder=function(){return this};a.input=a.textarea=true}else{a=s.placeholder=function(){var e=this;e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",true).trigger("blur.placeholder");return e};a.input=r;a.textarea=i;u={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var i=n(e);if(!i.data("placeholder-enabled")){return e.value=r}if(r==""){e.value=r;if(e!=t.activeElement){c.call(e)}}else if(i.hasClass("placeholder")){l.call(e,true,r)||(e.value=r)}else{e.value=r}return i}};r||(o.input=u);i||(o.textarea=u);n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(l);setTimeout(function(){e.each(c)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e){var t={init:function(t){this.options=e.extend({},e.noty.defaults,t);this.options.layout=this.options.custom?e.noty.layouts["inline"]:e.noty.layouts[this.options.layout];this.options.theme=e.noty.themes[this.options.theme];delete t.layout;delete t.theme;this.options=e.extend({},this.options,this.options.layout.options);this.options.id="noty_"+(new Date).getTime()*Math.floor(Math.random()*1e6);this.options=e.extend({},this.options,t);this._build();return this},_build:function(){var t=e('<div class="noty_bar"></div>').attr("id",this.options.id);t.append(this.options.template).find(".noty_text").html(this.options.text);this.$bar=this.options.layout.parent.object!==null?e(this.options.layout.parent.object).css(this.options.layout.parent.css).append(t):t;if(this.options.buttons){this.options.closeWith=[];this.options.timeout=false;var n=e("<div/>").addClass("noty_buttons");this.options.layout.parent.object!==null?this.$bar.find(".noty_bar").append(n):this.$bar.append(n);var r=this;e.each(this.options.buttons,function(t,n){var i=e("<button/>").addClass(n.addClass?n.addClass:"gray").html(n.text).appendTo(r.$bar.find(".noty_buttons")).bind("click",function(){if(e.isFunction(n.onClick)){n.onClick.call(i,r)}})})}this.$message=this.$bar.find(".noty_message");this.$closeButton=this.$bar.find(".noty_close");this.$buttons=this.$bar.find(".noty_buttons");e.noty.store[this.options.id]=this},show:function(){var t=this;e.noty.closeAll();e(t.options.layout.container.selector).append(t.$bar);t.options.theme.style.apply(t);e.type(t.options.layout.css)==="function"?this.options.layout.css.apply(t.$bar):t.$bar.css(this.options.layout.css||{});t.$bar.addClass(t.options.layout.addClass);t.options.layout.container.style.apply(e(t.options.layout.container.selector));t.options.theme.callback.onShow.apply(this);if(e.inArray("click",t.options.closeWith)>-1)t.$bar.css("cursor","pointer").one("click",function(){t.close()});if(e.inArray("hover",t.options.closeWith)>-1)t.$bar.one("mouseenter",function(){t.close()});if(e.inArray("button",t.options.closeWith)>-1)t.$closeButton.one("click",function(){t.close()});if(e.inArray("button",t.options.closeWith)==-1)t.$closeButton.remove();if(t.options.callback.onShow)t.options.callback.onShow.apply(t);t.$bar.animate(t.options.animation.open,t.options.animation.speed,t.options.animation.easing,function(){if(t.options.callback.afterShow)t.options.callback.afterShow.apply(t);t.shown=true});if(t.options.timeout)t.$bar.delay(t.options.timeout).promise().done(function(){t.close()});return this},close:function(){if(this.closed)return;var t=this;if(!this.shown){var n=[];e.each(e.noty.queue,function(e,r){if(r.options.id!=t.options.id){n.push(r)}});e.noty.queue=n;return}t.$bar.addClass("i-am-closing-now");if(t.options.callback.onClose){t.options.callback.onClose.apply(t)}t.$bar.clearQueue().stop().animate(t.options.animation.close,t.options.animation.speed,t.options.animation.easing,function(){if(t.options.callback.afterClose)t.options.callback.afterClose.apply(t)}).promise().done(function(){if(t.options.modal){e.notyRenderer.setModalCount(-1);if(e.notyRenderer.getModalCount()==0)e(".noty_modal").fadeOut("fast",function(){e(this).remove()})}if(typeof t.$bar!=="undefined"&&t.$bar!==null){t.$bar.remove();t.$bar=null;t.closed=true}delete e.noty.store[t.options.id];t.options.theme.callback.onClose.apply(t);if(!t.options.dismissQueue){e.noty.ontap=true;e.notyRenderer.render()}})},setText:function(e){if(!this.closed){this.options.text=e;this.$bar.find(".noty_text").html(e)}return this},setType:function(e){if(!this.closed){this.options.type=e;this.options.theme.style.apply(this);this.options.theme.callback.onShow.apply(this)}return this},setTimeout:function(e){if(!this.closed){var t=this;this.options.timeout=e;t.$bar.delay(t.options.timeout).promise().done(function(){t.close()})}return this},closed:false,shown:false};e.notyRenderer={};e.notyRenderer.init=function(n){var r=Object.create(t).init(n);r.options.force?e.noty.queue.unshift(r):e.noty.queue.push(r);e.notyRenderer.render();return e.noty.returns=="object"?r:r.options.id};e.notyRenderer.render=function(){var t=e.noty.queue[0];if(e.type(t)==="object"){if(t.options.dismissQueue){e.notyRenderer.show(e.noty.queue.shift())}else{if(e.noty.ontap){e.notyRenderer.show(e.noty.queue.shift());e.noty.ontap=false}}}else{e.noty.ontap=true}};e.notyRenderer.show=function(t){if(t.options.modal){e.notyRenderer.createModalFor(t);e.notyRenderer.setModalCount(+1)}if(e(t.options.layout.container.selector).length==0){if(t.options.custom){t.options.custom.append(e(t.options.layout.container.object).addClass("i-am-new"))}else{e("body").append(e(t.options.layout.container.object).addClass("i-am-new"))}}else{e(t.options.layout.container.selector).removeClass("i-am-new")}e.notyRenderer.setLayoutCountFor(t,+1);t.show()};e.notyRenderer.createModalFor=function(t){if(e(".noty_modal").length==0)e("<div/>").addClass("noty_modal").data("noty_modal_count",0).css(t.options.theme.modal.css).prependTo(e("body")).fadeIn("fast")};e.notyRenderer.getLayoutCountFor=function(t){return e(t.options.layout.container.selector).data("noty_layout_count")||0};e.notyRenderer.setLayoutCountFor=function(t,n){return e(t.options.layout.container.selector).data("noty_layout_count",e.notyRenderer.getLayoutCountFor(t)+n)};e.notyRenderer.getModalCount=function(){return e(".noty_modal").data("noty_modal_count")||0};e.notyRenderer.setModalCount=function(t){return e(".noty_modal").data("noty_modal_count",e.notyRenderer.getModalCount()+t)};e.fn.noty=function(t){t.custom=e(this);return e.notyRenderer.init(t)};e.noty={};e.noty.queue=[];e.noty.ontap=true;e.noty.layouts={};e.noty.themes={};e.noty.returns="object";e.noty.store={};e.noty.get=function(t){return e.noty.store.hasOwnProperty(t)?e.noty.store[t]:false};e.noty.close=function(t){return e.noty.get(t)?e.noty.get(t).close():false};e.noty.setText=function(t,n){return e.noty.get(t)?e.noty.get(t).setText(n):false};e.noty.setType=function(t,n){return e.noty.get(t)?e.noty.get(t).setType(n):false};e.noty.clearQueue=function(){e.noty.queue=[]};e.noty.closeAll=function(){e.noty.clearQueue();e.each(e.noty.store,function(e,t){t.close()})};var n=window.alert;e.noty.consumeAlert=function(t){window.alert=function(n){if(t)t.text=n;else t={text:n};e.notyRenderer.init(t)}};e.noty.stopConsumeAlert=function(){window.alert=n};e.noty.defaults={layout:"topCenter",theme:"defaultTheme",type:"information",text:"",dismissQueue:true,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:false,force:false,modal:false,closeWith:["click","button"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:false};e(window).resize(function(){e.each(e.noty.layouts,function(t,n){n.container.style.apply(e(n.container.selector))})})})(jQuery);(function(e){e.fn.extend({showPasswordOnToggle:function(t){var n={fn:null,args:{}};n.fn=t;var r=function(t){var n=e(t);$clone=e("<input />");$clone.attr({type:"text","class":n.attr("class")+" input-clones ",style:n.attr("style"),size:n.attr("size"),maxlength:n.attr("maxlength"),id:n.attr("id")+"-clone",name:n.attr("name")+"-clone",tabindex:n.attr("tabindex")});return $clone};var i=function(e,t){t.val(e.val())};var s=function(e,t,n){if(e.is(":checked")){i(t,n);n.show();t.hide()}else{i(n,t);n.hide();t.show()}};return this.each(function(){var t=e(this),o=e(t.data("typetoggle"));var u=r(t);u.insertAfter(t);if(n.fn){n.args.input=t;n.args.checkbox=o;n.args.clone=u}o.bind("click",function(){s(o,t,u)});t.keyup(function(){i(t,u)});u.bind("keyup",function(e){if(!e.ctrlKey)i(u,t)});u.bind("blur",function(){t.trigger("focusout")});s(o,t,u);if(n.fn){n.fn(n.args)}})}})})(jQuery);(function(e){if(typeof e.fn.each2=="undefined"){e.fn.extend({each2:function(t){var n=e([0]),r=-1,i=this.length;while(++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==false);return this}})}})(jQuery);(function(e,t){"use strict";function a(e,t){var n=0,r=t.length,i;if(typeof e==="undefined"){return-1}if(e.constructor===String){for(;n<r;n=n+1)if(e.localeCompare(t[n])===0)return n}else{for(;n<r;n=n+1){i=t[n];if(i.constructor===String){if(i.localeCompare(e)===0)return n}else{if(i===e)return n}}}return-1}function f(e,n){if(e===n)return true;if(e===t||n===t)return false;if(e===null||n===null)return false;if(e.constructor===String)return e.localeCompare(n)===0;if(n.constructor===String)return n.localeCompare(e)===0;return false}function l(t,n){var r,i,s;if(t===null||t.length<1)return[];r=t.split(n);for(i=0,s=r.length;i<s;i=i+1)r[i]=e.trim(r[i]);return r}function c(e){return e.outerWidth()-e.width()}function h(n){var r="keyup-change-value";n.bind("keydown",function(){if(e.data(n,r)===t){e.data(n,r,n.val())}});n.bind("keyup",function(){var i=e.data(n,r);if(i!==t&&n.val()!==i){e.removeData(n,r);n.trigger("keyup-change")}})}function p(n){n.bind("mousemove",function(n){var r=e.data(document,"select2-lastpos");if(r===t||r.x!==n.pageX||r.y!==n.pageY){e(n.target).trigger("mousemove-filtered",n)}})}function d(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i);i=window.setTimeout(function(){n.apply(r,t)},e)}}function v(e){var t=false,n;return function(){if(t===false){n=e();t=true}return n}}function m(e,t){var n=d(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){if(a(e.target,t.get())>=0)n(e)})}function g(e){e.preventDefault();e.stopPropagation()}function y(t){if(!u){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);u=e("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"});e("body").append(u)}u.text(t.val());return u.width()}function b(e,t,n){var r=e.toUpperCase().indexOf(t.toUpperCase()),i=t.length;if(r<0){n.push(e);return}n.push(e.substring(0,r));n.push("<span class='select2-match'>");n.push(e.substring(r,r+i));n.push("</span>");n.push(e.substring(r+i,e.length))}function w(t){var n,r=0,i=null,s=t.quietMillis||100;return function(o){window.clearTimeout(n);n=window.setTimeout(function(){r+=1;var n=r,s=t.data,u=t.transport||e.ajax,a=t.traditional||false,f=t.type||"GET";s=s.call(this,o.term,o.page,o.context);if(null!==i){i.abort()}i=u.call(null,{url:t.url,dataType:t.dataType,data:s,type:f,traditional:a,success:function(e){if(n<r){return}var i=t.results(e,o.page);o.callback(i)}})},s)}}function E(t){var n=t,r,i=function(e){return""+e.text};if(!e.isArray(n)){i=n.text;if(!e.isFunction(i)){r=n.text;i=function(e){return e[r]}}n=n.results}return function(t){var r=t.term,s={results:[]},o;if(r===""){t.callback({results:n});return}o=function(n,s){var u,a;n=n[0];if(n.children){u={};for(a in n){if(n.hasOwnProperty(a))u[a]=n[a]}u.children=[];e(n.children).each2(function(e,t){o(t,u.children)});if(u.children.length){s.push(u)}}else{if(t.matcher(r,i(n))){s.push(n)}}};e(n).each2(function(e,t){o(t,s.results)});t.callback(s)}}function S(n){if(e.isFunction(n)){return n}return function(r){var i=r.term,s={results:[]};e(n).each(function(){var e=this.text!==t,n=e?this.text:this;if(i===""||r.matcher(i,n)){s.results.push(e?this:{id:this,text:this})}});r.callback(s)}}function x(t,n){if(e.isFunction(t))return true;if(!t)return false;throw new Error("formatterName must be a function or a falsy value")}function T(t){return e.isFunction(t)?t():t}function N(t){var n=0;e.each(t,function(e,t){if(t.children){n+=N(t.children)}else{n++}});return n}function C(e,n,r,i){var s=e,o=false,u,a,l,c,h;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;while(true){a=-1;for(l=0,c=i.tokenSeparators.length;l<c;l++){h=i.tokenSeparators[l];a=e.indexOf(h);if(a>=0)break}if(a<0)break;u=e.substring(0,a);e=e.substring(a+h.length);if(u.length>0){u=i.createSearchChoice(u,n);if(u!==t&&u!==null&&i.id(u)!==t&&i.id(u)!==null){o=false;for(l=0,c=n.length;l<c;l++){if(f(i.id(u),i.id(n[l]))){o=true;break}}if(!o)r(u)}}}if(s.localeCompare(e)!=0)return e}function k(t,n){var r=function(){};r.prototype=new t;r.prototype.constructor=r;r.prototype.parent=t.prototype;r.prototype=e.extend(r.prototype,n);return r}if(window.Select2!==t){return}var n,r,i,s,o,u;n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:return true}return false},isControl:function(e){var t=e.which;switch(t){case n.SHIFT:case n.CTRL:case n.ALT:return true}if(e.metaKey)return true;return false},isFunctionKey:function(e){e=e.which?e.which:e;return e>=112&&e<=123}};o=function(){var e=1;return function(){return e++}}();e(document).delegate("body","mousemove",function(t){e.data(document,"select2-lastpos",{x:t.pageX,y:t.pageY})});e(document).ready(function(){e(document).delegate("body","mousedown touchend",function(n){var r=e(n.target).closest("div.select2-container").get(0),i;if(r){e(document).find("div.select2-container-active").each(function(){if(this!==r)e(this).data("select2").blur()})}else{r=e(n.target).closest("div.select2-drop").get(0);e(document).find("div.select2-drop-active").each(function(){if(this!==r)e(this).data("select2").blur()})}r=e(n.target);if(r.parent().attr("class")!="uploadify"){i=r.attr("for");if("LABEL"===n.target.tagName&&i&&i.length>0){r=e("#"+i);r=r.data("select2");if(r!==t){r.focus();n.preventDefault()}}}})});r=k(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,s=".select2-results";this.opts=n=this.prepareOpts(n);this.id=n.id;if(n.element.data("select2")!==t&&n.element.data("select2")!==null){this.destroy()}this.enabled=true;this.container=this.createContainer();this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=v(function(){return n.element.closest("body")});if(n.element.attr("class")!==t){this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,""))}this.container.css(T(n.containerCss));this.container.addClass(T(n.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(T(n.dropdownCssClass));this.dropdown.data("select2",this);this.results=r=this.container.find(s);this.search=i=this.container.find("input.select2-input");i.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();p(this.results);this.dropdown.delegate(s,"mousemove-filtered",this.bind(this.highlightUnderEvent));m(80,this.results);this.dropdown.delegate(s,"scroll-debounced",this.bind(this.loadMoreIfNeeded));if(e.fn.mousewheel){r.mousewheel(function(e,t,n,i){var s=r.scrollTop(),o;if(i>0&&s-i<=0){r.scrollTop(0);g(e)}else if(i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()){r.scrollTop(r.get(0).scrollHeight-r.height());g(e)}})}h(i);i.bind("keyup-change",this.bind(this.updateResults));i.bind("focus",function(){i.addClass("select2-focused");if(i.val()===" ")i.val("")});i.bind("blur",function(){i.removeClass("select2-focused")});this.dropdown.delegate(s,"mouseup",this.bind(function(t){if(e(t.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0){this.highlightUnderEvent(t);this.selectHighlighted(t)}else{this.focusSearch()}g(t)}));this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()});if(e.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))this.disable()},destroy:function(){var e=this.opts.element.data("select2");if(e!==t){e.container.remove();e.dropdown.remove();e.opts.element.removeData("select2").unbind(".select2").show()}},prepareOpts:function(n){var r,i,s,o;r=n.element;if(r.get(0).tagName.toLowerCase()==="select"){this.select=i=n.element}if(i){e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}n=e.extend({},{populateResults:function(r,i,s){var o,u,a,f,l=this.opts.id,c=this;o=function(r,i,u){var a,f,h,p,d,v,m,g,y;for(a=0,f=r.length;a<f;a=a+1){h=r[a];p=l(h)!==t;d=h.children&&h.children.length>0;v=e("<li></li>");v.addClass("select2-results-dept-"+u);v.addClass("select2-result");v.addClass(p?"select2-result-selectable":"select2-result-unselectable");if(d){v.addClass("select2-result-with-children")}v.addClass(c.opts.formatResultCssClass(h));m=e("<div></div>");m.addClass("select2-result-label");y=n.formatResult(h,m,s);if(y!==t){m.html(c.opts.escapeMarkup(y))}v.append(m);if(d){g=e("<ul></ul>");g.addClass("select2-result-sub");o(h.children,g,u+1);v.append(g)}v.data("select2-data",h);i.append(v)}};o(i,r,0)}},e.fn.select2.defaults,n);if(typeof n.id!=="function"){s=n.id;n.id=function(e){return e[s]}}if(i){n.query=this.bind(function(n){var i={results:[],more:false},s=n.term,o,u,a;a=function(e,t){var r;if(e.is("option")){if(n.matcher(s,e.text(),e)){t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class")})}}else if(e.is("optgroup")){r={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")};e.children().each2(function(e,t){a(t,r.children)});if(r.children.length>0){t.push(r)}}};o=r.children();if(this.getPlaceholder()!==t&&o.length>0){u=o[0];if(e(u).text()===""){o=o.not(u)}}o.each2(function(e,t){a(t,i.results)});n.callback(i)});n.id=function(e){return e.id};n.formatResultCssClass=function(e){return e.css}}else{if(!("query"in n)){if("ajax"in n){o=n.element.data("ajax-url");if(o&&o.length>0){n.ajax.url=o}n.query=w(n.ajax)}else if("data"in n){n.query=E(n.data)}else if("tags"in n){n.query=S(n.tags);n.createSearchChoice=function(e){return{id:e,text:e}};n.initSelection=function(t,r){var i=[];e(l(t.val(),n.separator)).each(function(){var t=this,r=this,s=n.tags;if(e.isFunction(s))s=s();e(s).each(function(){if(f(this.id,t)){r=this.text;return false}});i.push({id:t,text:r})});r(i)}}}}if(typeof n.query!=="function"){throw"query function not defined for Select2 "+n.element.attr("id")}return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(e){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}))},triggerChange:function(t){t=t||{};t=e.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange)this.opts.element.blur()},enable:function(){if(this.enabled)return;this.enabled=true;this.container.removeClass("select2-container-disabled")},disable:function(){if(!this.enabled)return;this.close();this.enabled=false;this.container.addClass("select2-container-disabled")},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.container.offset(),n=this.container.outerHeight(),r=this.container.outerWidth(),i=this.dropdown.outerHeight(),s=e(window).scrollTop()+document.documentElement.clientHeight,o=t.top+n,u=t.left,a=o+i<=s,f=t.top-i>=this.body().scrollTop(),l=this.dropdown.hasClass("select2-drop-above"),c,h,p;if(this.body().css("position")!=="static"){c=this.body().offset();o-=c.top;u-=c.left}if(l){h=true;if(!f&&a)h=false}else{h=false;if(!a&&f)h=true}if(h){o=t.top-i;this.container.addClass("select2-drop-above");this.dropdown.addClass("select2-drop-above")}else{this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")}p=e.extend({top:o,left:u,width:r},T(this.opts.dropdownCss));this.dropdown.css(p)},shouldOpen:function(){var t;if(this.opened())return false;t=e.Event("open");this.opts.element.trigger(t);return!t.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return false;window.setTimeout(this.bind(this.opening),1);return true},opening:function(){var t=this.containerId,n=this.containerSelector,r="scroll."+t,i="resize."+t;this.container.parents().each(function(){e(this).bind(r,function(){var t=e(n);if(t.length==0){e(this).unbind(r)}t.select2("close")})});e(window).bind(i,function(){var t=e(n);if(t.length==0){e(window).unbind(i)}t.select2("close")});this.clearDropdownAlignmentPreference();if(this.search.val()===" "){this.search.val("")}this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(true);if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body())}this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");this.ensureHighlightVisible();this.focusSearch()},close:function(){if(!this.opened())return;var t=this;this.container.parents().each(function(){e(this).unbind("scroll."+t.containerId)});e(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(e.Event("close"))},clearSearch:function(){},ensureHighlightVisible:function(){var t=this.results,n,r,i,s,o,u,a;r=this.highlight();if(r<0)return;if(r==0){t.scrollTop(0);return}n=t.find(".select2-result-selectable");i=e(n[r]);s=i.offset().top+i.outerHeight();if(r===n.length-1){a=t.find("li.select2-more-results");if(a.length>0){s=a.offset().top+a.outerHeight()}}o=t.offset().top+t.outerHeight();if(s>o){t.scrollTop(t.scrollTop()+(s-o))}u=i.offset().top-t.offset().top;if(u<0){t.scrollTop(t.scrollTop()+u)}},moveHighlight:function(t){var n=this.results.find(".select2-result-selectable"),r=this.highlight();while(r>-1&&r<n.length){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")){this.highlight(r);break}}},highlight:function(t){var n=this.results.find(".select2-result-selectable").not(".select2-disabled");if(arguments.length===0){return a(n.filter(".select2-highlighted")[0],n.get())}if(t>=n.length)t=n.length-1;if(t<0)t=0;n.removeClass("select2-highlighted");e(n[t]).addClass("select2-highlighted");this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.results.find(".select2-result-selectable");this.highlight(r.index(n))}else if(n.length==0){this.results.find(".select2-highlighted").removeClass("select2-highlighted")}},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n,r=-1,i=this.resultsPage+1,s=this,o=this.search.val(),u=this.context;if(t.length===0)return;n=t.offset().top-e.offset().top-e.height();if(n<=0){t.addClass("select2-active");this.opts.query({term:o,page:i,context:u,matcher:this.opts.matcher,callback:this.bind(function(n){if(!s.opened())return;s.opts.populateResults.call(this,e,n.results,{term:o,page:i,context:u});if(n.more===true){t.detach().appendTo(e).text(s.opts.formatLoadMore(i+1));window.setTimeout(function(){s.loadMoreIfNeeded()},10)}else{t.remove()}s.positionDropdown();s.resultsPage=i})})}},tokenize:function(){},updateResults:function(n){function l(){i.scrollTop(0);r.removeClass("select2-active");u.positionDropdown()}function c(e){i.html(u.opts.escapeMarkup(e));l()}var r=this.search,i=this.results,s=this.opts,o,u=this,a;if(n!==true&&(this.showSearchInput===false||!this.opened())){return}r.addClass("select2-active");if(s.maximumSelectionSize>=1){o=this.data();if(e.isArray(o)&&o.length>=s.maximumSelectionSize&&x(s.formatSelectionTooBig,"formatSelectionTooBig")){c("<li class='select2-selection-limit'>"+s.formatSelectionTooBig(s.maximumSelectionSize)+"</li>");return}}if(r.val().length<s.minimumInputLength&&x(s.formatInputTooShort,"formatInputTooShort")){c("<li class='select2-no-results'>"+s.formatInputTooShort(r.val(),s.minimumInputLength)+"</li>");return}else{c("<li class='select2-searching'>"+s.formatSearching()+"</li>")}a=this.tokenize();if(a!=t&&a!=null){r.val(a)}this.resultsPage=1;s.query({term:r.val(),page:this.resultsPage,context:null,matcher:s.matcher,callback:this.bind(function(o){var a;if(!this.opened())return;this.context=o.context===t?null:o.context;if(this.opts.createSearchChoice&&r.val()!==""){a=this.opts.createSearchChoice.call(null,r.val(),o.results);if(a!==t&&a!==null&&u.id(a)!==t&&u.id(a)!==null){if(e(o.results).filter(function(){return f(u.id(this),u.id(a))}).length===0){o.results.unshift(a)}}}if(o.results.length===0&&x(s.formatNoMatches,"formatNoMatches")){c("<li class='select2-no-results'>"+s.formatNoMatches(r.val())+"</li>");return}i.empty();u.opts.populateResults.call(this,i,o.results,{term:r.val(),page:this.resultsPage,context:null});if(o.more===true&&x(s.formatLoadMore,"formatLoadMore")){i.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(s.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){u.loadMoreIfNeeded()},10)}this.postprocessResults(o,n);l()})})},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show();this.search.focus();window.setTimeout(this.bind(function(){this.search.show();this.search.focus();this.search.val(this.search.val())}),10)},selectHighlighted:function(){var e=this.highlight(),t=this.results.find(".select2-highlighted").not(".select2-disabled"),n=t.closest(".select2-result-selectable").data("select2-data");if(n){t.addClass("select2-disabled");this.highlight(e);this.onSelect(n)}},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,r,i,s,o;if(this.opts.width==="off"){return null}else if(this.opts.width==="element"){return this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px"}else if(this.opts.width==="copy"||this.opts.width==="resolve"){n=this.opts.element.attr("style");if(n!==t){r=n.split(";");for(s=0,o=r.length;s<o;s=s+1){i=r[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(i!==null&&i.length>=1)return i[1]}}if(this.opts.width==="resolve"){n=this.opts.element.css("width");if(n.indexOf("%")>0)return n;return this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px"}return null}else if(e.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}var r=n.call(this);if(r!==null){this.container.attr("style","width: "+r)}}});i=k(r,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container"}).html(["    <a href='#' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen")},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments);this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show()},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},initContainer:function(){var e,t=this.container,r=this.dropdown,i=false;this.selection=e=t.find(".select2-choice");this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){g(e);return}if(this.opened()){switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1);g(e);return;case n.TAB:case n.ENTER:this.selectHighlighted();g(e);return;case n.ESC:this.cancel(e);g(e);return}}else{if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC){return}if(this.opts.openOnEnter===false&&e.which===n.ENTER){return}this.open();if(e.which===n.ENTER){return}}}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")}));this.search.bind("blur",this.bind(function(){if(!this.opened())this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));e.bind("mousedown",this.bind(function(e){i=true;if(this.opened()){this.close();this.selection.focus()}else if(this.enabled){this.open()}i=false}));r.bind("mousedown",this.bind(function(){this.search.focus()}));e.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1")}));e.bind("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active")}window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));e.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){g(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC){return}if(this.opts.openOnEnter===false&&e.which===n.ENTER){return}if(e.which==n.DELETE){if(this.opts.allowClear){this.clear()}return}this.open();if(e.which===n.ENTER){g(e);return}if(e.which<48){g(e);return}var t=String.fromCharCode(e.which).toLowerCase();if(e.shiftKey){t=t.toUpperCase()}this.search.focus();this.search.val(t);g(e)}));e.delegate("abbr","mousedown",this.bind(function(e){if(!this.enabled)return;this.clear();g(e);this.close();this.triggerChange();this.selection.focus()}));this.setPlaceholder();this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder()},initSelection:function(){var e;if(this.opts.element.val()===""){this.close();this.setPlaceholder()}else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){n.updateSelection(e);n.close();n.setPlaceholder()}})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);if(t.element.get(0).tagName.toLowerCase()==="select"){t.initSelection=function(t,n){var r=t.find(":selected");if(e.isFunction(n))n({id:r.attr("value"),text:r.text()})}}return t},setPlaceholder:function(){var e=this.getPlaceholder();if(this.opts.element.val()===""&&e!==t){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(e));this.selection.addClass("select2-default");this.selection.find("abbr").hide()}},postprocessResults:function(t,n){var r=0,i=this,s=true;this.results.find(".select2-result-selectable").each2(function(e,t){if(f(i.id(t.data("select2-data")),i.opts.element.val())){r=e;return false}});this.highlight(r);if(n===true){s=this.showSearchInput=N(t.results)>=this.opts.minimumResultsForSearch;this.dropdown.find(".select2-search")[s?"removeClass":"addClass"]("select2-search-hidden");e(this.dropdown,this.container)[s?"addClass":"removeClass"]("select2-with-searchbox")}},onSelect:function(e){var t=this.opts.element.val();this.opts.element.val(this.id(e));this.updateSelection(e);this.close();this.selection.focus();if(!f(t,this.id(e))){this.triggerChange()}},updateSelection:function(e){var n=this.selection.find("span"),r;this.selection.data("select2-data",e);n.empty();r=this.opts.formatSelection(e,n);if(r!==t){n.append(this.opts.escapeMarkup(r))}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==t){this.selection.find("abbr").show()}},val:function(){var e,n=null,r=this;if(arguments.length===0){return this.opts.element.val()}e=arguments[0];if(this.select){this.select.val(e).find(":selected").each2(function(e,t){n={id:t.attr("value"),text:t.text()};return false});this.updateSelection(n);this.setPlaceholder()}else{if(this.opts.initSelection===t){throw new Error("cannot call val() if initSelection() is not defined")}if(!e){this.clear();return}this.opts.element.val(e);this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(!e?"":r.id(e));r.updateSelection(e);r.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(e){var n;if(arguments.length===0){n=this.selection.data("select2-data");if(n==t)n=null;return n}else{if(!e||e===""){this.clear()}else{this.opts.element.val(!e?"":this.id(e));this.updateSelection(e)}}}});s=k(r,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);if(t.element.get(0).tagName.toLowerCase()==="select"){t.initSelection=function(t,n){var r=[];t.find(":selected").each2(function(e,t){r.push({id:t.attr("value"),text:t.text()})});if(e.isFunction(n))n(r)}}return t},initContainer:function(){var t=".select2-choices",r;this.searchContainer=this.container.find(".select2-search-field");this.selection=r=this.container.find(t);this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.BACKSPACE&&this.search.val()===""){this.close();var t,i=r.find(".select2-search-choice-focus");if(i.length>0){this.unselect(i.first());this.search.width(10);g(e);return}t=r.find(".select2-search-choice");if(t.length>0){t.last().addClass("select2-search-choice-focus")}}else{r.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")}if(this.opened()){switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1);g(e);return;case n.ENTER:case n.TAB:this.selectHighlighted();g(e);return;case n.ESC:this.cancel(e);g(e);return}}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.BACKSPACE||e.which===n.ESC){return}if(this.opts.openOnEnter===false&&e.which===n.ENTER){return}this.open();if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){g(e)}}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.clearSearch();e.stopImmediatePropagation()}));this.container.delegate(t,"mousedown",this.bind(function(t){if(!this.enabled)return;if(e(t.target).closest(".select2-search-choice").length>0){return}this.clearPlaceholder();this.open();this.focusSearch();t.preventDefault()}));this.container.delegate(t,"focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.clearSearch()},enable:function(){if(this.enabled)return;this.parent.enable.apply(this,arguments);this.search.removeAttr("disabled")},disable:function(){if(!this.enabled)return;this.parent.disable.apply(this,arguments);this.search.attr("disabled",true)},initSelection:function(){var e;if(this.opts.element.val()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){n.updateSelection(e);n.close();n.clearSearch()}})}},clearSearch:function(){var e=this.getPlaceholder();if(e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(e).addClass("select2-default");this.resizeSearch()}else{this.search.val(" ").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}else{if(this.search.val()===" ")this.search.val("")}},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch()},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){if(a(i.id(this),n)<0){n.push(i.id(this));r.push(this)}});t=r;this.selection.find(".select2-search-choice").remove();e(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts);if(e!=null&&e!=t){this.search.val(e);if(e.length>0){this.open()}}},onSelect:function(e){this.addSelectedChoice(e);if(this.select){this.postprocessResults()}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();this.positionDropdown()}else{this.close()}}this.triggerChange({added:e});this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(t){var n=e("<li class='select2-search-choice'>"+"    <div></div>"+"    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a>"+"</li>"),r=this.id(t),i=this.getVal(),s;s=this.opts.formatSelection(t,n);n.find("div").replaceWith("<div>"+this.opts.escapeMarkup(s)+"</div>");n.find(".select2-search-choice-close").bind("mousedown",g).bind("click dblclick",this.bind(function(t){if(!this.enabled)return;e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();g(t)})).bind("focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}));n.data("select2-data",t);n.insertBefore(this.searchContainer);i.push(r);this.setVal(i)},unselect:function(e){var t=this.getVal(),n,r;e=e.closest(".select2-search-choice");if(e.length===0){throw"Invalid argument: "+e+". Must be .select2-search-choice"}n=e.data("select2-data");r=a(this.id(n),t);if(r>=0){t.splice(r,1);this.setVal(t);if(this.select)this.postprocessResults()}e.remove();this.triggerChange({removed:n})},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result-selectable"),n=this.results.find(".select2-result-with-children"),r=this;t.each2(function(t,n){var i=r.id(n.data("select2-data"));if(a(i,e)>=0){n.addClass("select2-disabled").removeClass("select2-result-selectable")}else{n.removeClass("select2-disabled").addClass("select2-result-selectable")}});n.each2(function(e,t){if(t.find(".select2-result-selectable").length==0){t.addClass("select2-disabled")}else{t.removeClass("select2-disabled")}});t.each2(function(e,t){if(!t.hasClass("select2-disabled")&&t.hasClass("select2-result-selectable")){r.highlight(0);return false}})},resizeSearch:function(){var e,t,n,r,i,s=c(this.search);e=y(this.search)+10;t=this.search.offset().left;n=this.selection.width();r=this.selection.offset().left;i=n-(t-r)-s;if(i<e){i=n-s}if(i<40){i=n-s}this.search.width(i)},getVal:function(){var e;if(this.select){e=this.select.val();return e===null?[]:e}else{e=this.opts.element.val();return l(e,this.opts.separator)}},setVal:function(t){var n;if(this.select){this.select.val(t)}else{n=[];e(t).each(function(){if(a(this,n)<0)n.push(this)});this.opts.element.val(n.length===0?"":n.join(this.opts.separator))}},val:function(){var n,r=[],i=this;if(arguments.length===0){return this.getVal()}n=arguments[0];if(!n){this.opts.element.val("");this.updateSelection([]);this.clearSearch();return}this.setVal(n);if(this.select){this.select.find(":selected").each(function(){r.push({id:e(this).attr("value"),text:e(this).text()})});this.updateSelection(r)}else{if(this.opts.initSelection===t){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(i.id);i.setVal(n);i.updateSelection(t);i.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t){var n=this,r;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get()}else{if(!t){t=[]}r=e.map(t,function(e){return n.opts.id(e)});this.setVal(r);this.updateSelection(t);this.clearSearch()}}});e.fn.select2=function(){var n=Array.prototype.slice.call(arguments,0),r,o,u,f,l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];this.each(function(){if(n.length===0||typeof n[0]==="object"){r=n.length===0?{}:e.extend({},n[0]);r.element=e(this);if(r.element.get(0).tagName.toLowerCase()==="select"){f=r.element.attr("multiple")}else{f=r.multiple||false;if("tags"in r){r.multiple=f=true}}o=f?new s:new i;o.init(r)}else if(typeof n[0]==="string"){if(a(n[0],l)<0){throw"Unknown method: "+n[0]}u=t;o=e(this).data("select2");if(o===t)return;if(n[0]==="container"){u=o.container}else{u=o[n[0]].apply(o,n.slice(1))}if(u!==t){return false}}else{throw"Invalid arguments to select2 plugin: "+n}});return u===t?this:u};e.fn.select2.defaults={width:"copy",closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n){var r=[];b(e.text,n.term,r);return r.join("")},formatSelection:function(e,n){return e?e.text:t},formatResultCssClass:function(e){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:C,escapeMarkup:function(e){if(e&&typeof e==="string"){return e.replace(/&/g,"&")}return e},blurOnChange:false};window.Select2={query:{ajax:w,local:E,tags:S},util:{debounce:d,markMatch:b},"class":{"abstract":r,single:i,multi:s}}})(jQuery);(function(e){e.fn.shortPass="";e.fn.badPass="Strength: Weak";e.fn.goodPass="Strength: Good";e.fn.strongPass="Strength: Strong like bull";e.fn.samePassword="Username and Password identical.";e.fn.resultStyle="";e.fn.passStrength=function(t){var n={shortPass:"shortPass",badPass:"badPass",goodPass:"goodPass",strongPass:"strongPass",baseStyle:"strengthresult"};var r=e.extend(n,t);return this.each(function(){var t=e(this),n=t.next(),i=e('<div class=" form-input-notes '+r.baseStyle+'"><div>').insertAfter(n);t.add(n).keyup(function(){var t=e(this),n=e.fn.teststrength(t.val(),r);i.attr("data-passtype",t.resultStyle).text(n);if(t.val()==""){i.hide()}else{i.show()}}).blur(function(){i.hide()}).focus(function(){if(t.val()!=="")i.show()});e.fn.teststrength=function(t,n){var r=0;r+=t.length*4;r+=(e.fn.checkRepetition(1,t).length-t.length)*1;r+=(e.fn.checkRepetition(2,t).length-t.length)*1;r+=(e.fn.checkRepetition(3,t).length-t.length)*1;r+=(e.fn.checkRepetition(4,t).length-t.length)*1;if(t.match(/(.*[0-9].*[0-9].*[0-9])/)){r+=5}if(t.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)){r+=5}if(t.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)){r+=10}if(t.match(/([a-zA-Z])/)&&t.match(/([0-9])/)){r+=15}if(t.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&t.match(/([0-9])/)){r+=15}if(t.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&t.match(/([a-zA-Z])/)){r+=15}if(t.match(/^\w+$/)||t.match(/^\d+$/)){r-=10}if(r<0){r=0}if(r>100){r=100}if(r<34){this.resultStyle=n.badPass;return e(this).badPass}if(r<68){this.resultStyle=n.goodPass;return e(this).goodPass}this.resultStyle=n.strongPass;return e(this).strongPass}})}})(jQuery);$.fn.checkRepetition=function(e,t){var n="";for(var r=0;r<t.length;r++){var i=true;for(var s=0;s<e&&s+r+e<t.length;s++){i=i&&t.charAt(s+r)==t.charAt(s+r+e)}if(s<e){i=false}if(i){r+=e-1;i=false}else{n+=t.charAt(r)}}return n};(function(e){e.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){e(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e3});if(window.innerWidth<600){e(this).css({left:5})}}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"250px"},addClass:""}})(jQuery);(function(e){e.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){e(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:20001});e(this).css({left:(e(window).width()-e(this).outerWidth(false))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}})(jQuery);(function(e){e.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){e(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e3})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}})(jQuery);(function(e){e.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul id="noty_inline_layout_container" />',selector:"ul#noty_inline_layout_container",style:function(){e(this).css({width:"100%",height:"auto",margin:"0 0 6px 0",padding:0,listStyleType:"none",zIndex:1e3})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}})(jQuery);(function(e){e.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var t=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":e(t).css({borderRadius:"0px 0px 0px 0px"});e(t).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":e(t).css({borderRadius:"0px 0px 0px 0px"});e(t).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"});e(t).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":e(t).css({borderRadius:"0px 0px 0px 0px"});e(t).first().css({borderRadius:"5px 5px 0px 0px"});break;default:break}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"});this.$message.css({fontSize:"13px",lineHeight:"18px",textAlign:"center",padding:"8px 25px 9px",width:"auto",position:"relative"});this.$closeButton.css({position:"absolute",top:12,right:12,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"});this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"});this.$buttons.find("button").css({marginLeft:5});this.$buttons.find("button:first").css({marginLeft:0});this.$bar.bind({mouseenter:function(){e(this).find(".noty_close").fadeIn()},mouseleave:function(){e(this).find(".noty_close").fadeOut()}});switch(this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"});this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"});this.$message.css({fontWeight:"bold"});this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"});this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"});this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break}},callback:{onShow:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}})(jQuery);var Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","yahoo.ca","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.ca","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","gmx.com","mail.com"],defaultTopLevelDomains:["co.uk","ca","biz","fr","com","net","org","info","edu","gov","mil"],run:function(e){e.domains=e.domains||Kicksend.mailcheck.defaultDomains;e.topLevelDomains=e.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains;e.distanceFunction=e.distanceFunction||Kicksend.sift3Distance;var t=Kicksend.mailcheck.suggest(encodeURI(e.email),e.domains,e.topLevelDomains,e.distanceFunction);if(t){if(e.suggested){e.suggested(t)}}else{if(e.empty){e.empty()}}},suggest:function(e,t,n,r){e=e.toLowerCase();var i=this.splitEmail(e);var s=this.findClosestDomain(i.domain,t,r);if(s){if(s!=i.domain){return{address:i.address,domain:s,full:i.address+"@"+s}}}else{var o=this.findClosestDomain(i.topLevelDomain,n);if(i.domain&&o&&o!=i.topLevelDomain){var u=i.domain;s=u.substring(0,u.lastIndexOf(i.topLevelDomain))+o;return{address:i.address,domain:s,full:i.address+"@"+s}}}return false},findClosestDomain:function(e,t,n){var r;var i=99;var s=null;if(!e||!t){return false}if(!n){n=this.sift3Distance}for(var o=0;o<t.length;o++){if(e===t[o]){return e}r=n(e,t[o]);if(r<i){i=r;s=t[o]}}if(i<=this.threshold&&s!==null){return s}else{return false}},sift3Distance:function(e,t){if(e==null||e.length===0){if(t==null||t.length===0){return 0}else{return t.length}}if(t==null||t.length===0){return e.length}var n=0;var r=0;var i=0;var s=0;var o=5;while(n+r<e.length&&n+i<t.length){if(e.charAt(n+r)==t.charAt(n+i)){s++}else{r=0;i=0;for(var u=0;u<o;u++){if(n+u<e.length&&e.charAt(n+u)==t.charAt(n)){r=u;break}if(n+u<t.length&&e.charAt(n)==t.charAt(n+u)){i=u;break}}}n++}return(e.length+t.length)/2-s},splitEmail:function(e){var t=e.split("@");if(t.length<2){return false}for(var n=0;n<t.length;n++){if(t[n]===""){return false}}var r=t.pop();var i=r.split(".");var s="";if(i.length==0){return false}else if(i.length==1){s=i[0]}else{for(var n=1;n<i.length;n++){s+=i[n]+"."}if(i.length>=2){s=s.substring(0,s.length-1)}}return{topLevelDomain:s,domain:r,address:t.join("@")}}}};if(window.jQuery){(function(e){e.fn.mailcheck=function(e){var t=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(t,e)}}if(e.empty){var r=e.empty;e.empty=function(){r.call(null,t)}}e.email=this.val();Kicksend.mailcheck.run(e)}})(jQuery)}if(typeof JSON!=="object"){JSON={}}(function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(e)}if(typeof rep==="function"){a=rep.call(t,e,a)}switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep==="object"){s=rep.length;for(n=0;n<s;n+=1){if(typeof rep[n]==="string"){r=rep[n];i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}else{for(r in a){if(Object.prototype.hasOwnProperty.call(a,r)){i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if(typeof JSON.stringify!=="function"){JSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n==="number"){for(r=0;r<n;r+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i==="object"){for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){r=walk(i,n);if(r!==undefined){i[n]=r}else{delete i[n]}}}}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();var swfobject=function(){function C(){if(b){return}try{var e=a.getElementsByTagName("body")[0].appendChild(U("span"));e.parentNode.removeChild(e)}catch(t){return}b=true;var n=c.length;for(var r=0;r<n;r++){c[r]()}}function k(e){if(b){e()}else{c[c.length]=e}}function L(t){if(typeof u.addEventListener!=e){u.addEventListener("load",t,false)}else{if(typeof a.addEventListener!=e){a.addEventListener("load",t,false)}else{if(typeof u.attachEvent!=e){z(u,"onload",t)}else{if(typeof u.onload=="function"){var n=u.onload;u.onload=function(){n();t()}}else{u.onload=t}}}}}function A(){if(l){O()}else{M()}}function O(){var n=a.getElementsByTagName("body")[0];var r=U(t);r.setAttribute("type",i);var s=n.appendChild(r);if(s){var o=0;(function(){if(typeof s.GetVariable!=e){var t=s.GetVariable("$version");if(t){t=t.split(" ")[1].split(",");T.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]}}else{if(o<10){o++;setTimeout(arguments.callee,10);return}}n.removeChild(r);s=null;M()})()}else{M()}}function M(){var t=h.length;if(t>0){for(var n=0;n<t;n++){var r=h[n].id;var i=h[n].callbackFn;var s={success:false,id:r};if(T.pv[0]>0){var o=R(r);if(o){if(W(h[n].swfVersion)&&!(T.wk&&T.wk<312)){V(r,true);if(i){s.success=true;s.ref=_(r);i(s)}}else{if(h[n].expressInstall&&D()){var u={};u.data=h[n].expressInstall;u.width=o.getAttribute("width")||"0";u.height=o.getAttribute("height")||"0";if(o.getAttribute("class")){u.styleclass=o.getAttribute("class")}if(o.getAttribute("align")){u.align=o.getAttribute("align")}var a={};var f=o.getElementsByTagName("param");var l=f.length;for(var c=0;c<l;c++){if(f[c].getAttribute("name").toLowerCase()!="movie"){a[f[c].getAttribute("name")]=f[c].getAttribute("value")}}P(u,a,r,i)}else{H(o);if(i){i(s)}}}}}else{V(r,true);if(i){var p=_(r);if(p&&typeof p.SetVariable!=e){s.success=true;s.ref=p}i(s)}}}}}function _(n){var r=null;var i=R(n);if(i&&i.nodeName=="OBJECT"){if(typeof i.SetVariable!=e){r=i}else{var s=i.getElementsByTagName(t)[0];if(s){r=s}}}return r}function D(){return!w&&W("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function P(t,n,r,i){w=true;g=i||null;y={success:false,id:r};var o=R(r);if(o){if(o.nodeName=="OBJECT"){v=B(o);m=null}else{v=o;m=r}t.id=s;if(typeof t.width==e||!/%$/.test(t.width)&&parseInt(t.width,10)<310){t.width="310"}if(typeof t.height==e||!/%$/.test(t.height)&&parseInt(t.height,10)<137){t.height="137"}a.title=a.title.slice(0,47)+" - Flash Player Installation";var f=T.ie&&T.win?"ActiveX":"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+a.title;if(typeof n.flashvars!=e){n.flashvars+="&"+l}else{n.flashvars=l}if(T.ie&&T.win&&o.readyState!=4){var c=U("div");r+="SWFObjectNew";c.setAttribute("id",r);o.parentNode.insertBefore(c,o);o.style.display="none";(function(){if(o.readyState==4){o.parentNode.removeChild(o)}else{setTimeout(arguments.callee,10)}})()}j(t,n,r)}}function H(e){if(T.ie&&T.win&&e.readyState!=4){var t=U("div");e.parentNode.insertBefore(t,e);t.parentNode.replaceChild(B(e),t);e.style.display="none";(function(){if(e.readyState==4){e.parentNode.removeChild(e)}else{setTimeout(arguments.callee,10)}})()}else{e.parentNode.replaceChild(B(e),e)}}function B(e){var n=U("div");if(T.win&&T.ie){n.innerHTML=e.innerHTML}else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++){if(!(i[o].nodeType==1&&i[o].nodeName=="PARAM")&&!(i[o].nodeType==8)){n.appendChild(i[o].cloneNode(true))}}}}}return n}function j(n,r,s){var o,u=R(s);if(T.wk&&T.wk<312){return o}if(u){if(typeof n.id==e){n.id=s}if(T.ie&&T.win){var a="";for(var f in n){if(n[f]!=Object.prototype[f]){if(f.toLowerCase()=="data"){r.movie=n[f]}else{if(f.toLowerCase()=="styleclass"){a+=' class="'+n[f]+'"'}else{if(f.toLowerCase()!="classid"){a+=" "+f+'="'+n[f]+'"'}}}}}var l="";for(var c in r){if(r[c]!=Object.prototype[c]){l+='<param name="'+c+'" value="'+r[c]+'" />'}}u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>";p[p.length]=n.id;o=R(n.id)}else{var h=U(t);h.setAttribute("type",i);for(var d in n){if(n[d]!=Object.prototype[d]){if(d.toLowerCase()=="styleclass"){h.setAttribute("class",n[d])}else{if(d.toLowerCase()!="classid"){h.setAttribute(d,n[d])}}}}for(var v in r){if(r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"){F(h,v,r[v])}}u.parentNode.replaceChild(h,u);o=h}}return o}function F(e,t,n){var r=U("param");r.setAttribute("name",t);r.setAttribute("value",n);e.appendChild(r)}function I(e){var t=R(e);if(t&&t.nodeName=="OBJECT"){if(T.ie&&T.win){t.style.display="none";(function(){if(t.readyState==4){q(e)}else{setTimeout(arguments.callee,10)}})()}else{t.parentNode.removeChild(t)}}}function q(e){var t=R(e);if(t){for(var n in t){if(typeof t[n]=="function"){t[n]=null}}t.parentNode.removeChild(t)}}function R(e){var t=null;try{t=a.getElementById(e)}catch(n){}return t}function U(e){return a.createElement(e)}function z(e,t,n){e.attachEvent(t,n);d[d.length]=[e,t,n]}function W(e){var t=T.pv,n=e.split(".");n[0]=parseInt(n[0],10);n[1]=parseInt(n[1],10)||0;n[2]=parseInt(n[2],10)||0;return t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?true:false}function X(n,r,i,s){if(T.ie&&T.mac){return}var o=a.getElementsByTagName("head")[0];if(!o){return}var u=i&&typeof i=="string"?i:"screen";if(s){E=null;S=null}if(!E||S!=u){var f=U("style");f.setAttribute("type","text/css");f.setAttribute("media",u);E=o.appendChild(f);if(T.ie&&T.win&&typeof a.styleSheets!=e&&a.styleSheets.length>0){E=a.styleSheets[a.styleSheets.length-1]}S=u}if(T.ie&&T.win){if(E&&typeof E.addRule==t){E.addRule(n,r)}}else{if(E&&typeof a.createTextNode!=e){E.appendChild(a.createTextNode(n+" {"+r+"}"))}}}function V(e,t){if(!x){return}var n=t?"visible":"hidden";if(b&&R(e)){R(e).style.visibility=n}else{X("#"+e,"visibility:"+n)}}function $(t){var n=/[\\\"<>\.;]/;var r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s="SWFObjectExprInst",o="onreadystatechange",u=window,a=document,f=navigator,l=false,c=[A],h=[],p=[],d=[],v,m,g,y,b=false,w=false,E,S,x=true,T=function(){var s=typeof a.getElementById!=e&&typeof a.getElementsByTagName!=e&&typeof a.createElement!=e,o=f.userAgent.toLowerCase(),c=f.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(o),p=c?/mac/.test(c):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,v=!+"1",m=[0,0,0],g=null;if(typeof f.plugins!=e&&typeof f.plugins[n]==t){g=f.plugins[n].description;if(g&&!(typeof f.mimeTypes!=e&&f.mimeTypes[i]&&!f.mimeTypes[i].enabledPlugin)){l=true;v=false;g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1");m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10);m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10);m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof u.ActiveXObject!=e){try{var y=new ActiveXObject(r);if(y){g=y.GetVariable("$version");if(g){v=true;g=g.split(" ")[1].split(",");m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]}}}catch(b){}}}return{w3:s,pv:m,wk:d,ie:v,win:h,mac:p}}(),N=function(){if(!T.w3){return}if(typeof a.readyState!=e&&a.readyState=="complete"||typeof a.readyState==e&&(a.getElementsByTagName("body")[0]||a.body)){C()}if(!b){if(typeof a.addEventListener!=e){a.addEventListener("DOMContentLoaded",C,false)}if(T.ie&&T.win){a.attachEvent(o,function(){if(a.readyState=="complete"){a.detachEvent(o,arguments.callee);C()}});if(u==top){(function(){if(b){return}try{a.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}C()})()}}if(T.wk){(function(){if(b){return}if(!/loaded|complete/.test(a.readyState)){setTimeout(arguments.callee,0);return}C()})()}L(C)}}();var J=function(){if(T.ie&&T.win){window.attachEvent("onunload",function(){var e=d.length;for(var t=0;t<e;t++){d[t][0].detachEvent(d[t][1],d[t][2])}var n=p.length;for(var r=0;r<n;r++){I(p[r])}for(var i in T){T[i]=null}T=null;for(var s in swfobject){swfobject[s]=null}swfobject=null})}}();return{registerObject:function(e,t,n,r){if(T.w3&&e&&t){var i={};i.id=e;i.swfVersion=t;i.expressInstall=n;i.callbackFn=r;h[h.length]=i;V(e,false)}else{if(r){r({success:false,id:e})}}},getObjectById:function(e){if(T.w3){return _(e)}},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:false,id:r};if(T.w3&&!(T.wk&&T.wk<312)&&n&&r&&i&&s&&o){V(r,false);k(function(){i+="";s+="";var p={};if(l&&typeof l===t){for(var d in l){p[d]=l[d]}}p.data=n;p.width=i;p.height=s;var v={};if(f&&typeof f===t){for(var m in f){v[m]=f[m]}}if(a&&typeof a===t){for(var g in a){if(typeof v.flashvars!=e){v.flashvars+="&"+g+"="+a[g]}else{v.flashvars=g+"="+a[g]}}}if(W(o)){var y=j(p,v,r);if(p.id==r){V(r,true)}h.success=true;h.ref=y}else{if(u&&D()){p.data=u;P(p,v,r,c);return}else{V(r,true)}}if(c){c(h)}})}else{if(c){c(h)}}},switchOffAutoHideShow:function(){x=false},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:W,createSWF:function(e,t,n){if(T.w3){return j(e,t,n)}else{return undefined}},showExpressInstall:function(e,t,n,r){if(T.w3&&D()){P(e,t,n,r)}},removeSWF:function(e){if(T.w3){I(e)}},createCSS:function(e,t,n,r){if(T.w3){X(e,t,n,r)}},addDomLoadEvent:k,addLoadEvent:L,getQueryParamValue:function(e){var t=a.location.search||a.location.hash;if(t){if(/\?/.test(t)){t=t.split("?")[1]}if(e==null){return $(t)}var n=t.split("&");for(var r=0;r<n.length;r++){if(n[r].substring(0,n[r].indexOf("="))==e){return $(n[r].substring(n[r].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(w){var e=R(s);if(e&&v){e.parentNode.replaceChild(v,e);if(m){V(m,true);if(T.ie&&T.win){v.style.display="block"}}if(g){g(y)}}w=false}}}}();var SWFUpload;if(SWFUpload==undefined){SWFUpload=function(e){this.initSWFUpload(e)}}SWFUpload.prototype.initSWFUpload=function(e){try{this.customSettings={};this.settings=e;this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings();this.loadFlash();this.displayDebugInfo()}catch(t){delete SWFUpload.instances[this.movieName];throw t}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.2.0 2009-03-25";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.completeURL=function(e){if(typeof e!=="string"||e.match(/^https?:\/\//i)||e.match(/^\//)){return e}var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");var n=window.location.pathname.lastIndexOf("/");if(n<=0){path="/"}else{path=window.location.pathname.substr(0,n)+"/"}return path+e};SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(e,t){this.settings[e]=this.settings[e]==undefined?t:this.settings[e]};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",false);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("prevent_swf_caching",true);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",false);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(!!this.settings.prevent_swf_caching){this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()}if(!this.settings.preserve_relative_urls){this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url);this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)}delete this.ensureDefault};SWFUpload.prototype.loadFlash=function(){var e,t;if(document.getElementById(this.movieName)!==null){throw"ID "+this.movieName+" is already in use. The Flash Object could not be added"}e=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(e==undefined){throw"Could not find the placeholder element: "+this.settings.button_placeholder_id}t=document.createElement("div");t.innerHTML=this.getFlashHTML();e.parentNode.replaceChild(t.firstChild,e);if(window[this.movieName]==undefined){window[this.movieName]=this.getMovieElement()}};SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};SWFUpload.prototype.getFlashVars=function(){var e=this.buildParamString();var t=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&uploadURL=",encodeURIComponent(this.settings.upload_url),"&useQueryString=",encodeURIComponent(this.settings.use_query_string),"&requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&httpSuccess=",encodeURIComponent(t),"&assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&params=",encodeURIComponent(e),"&filePostName=",encodeURIComponent(this.settings.file_post_name),"&fileTypes=",encodeURIComponent(this.settings.file_types),"&fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&buttonWidth=",encodeURIComponent(this.settings.button_width),"&buttonHeight=",encodeURIComponent(this.settings.button_height),"&buttonText=",encodeURIComponent(this.settings.button_text),"&buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&buttonAction=",encodeURIComponent(this.settings.button_action),"&buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==undefined){this.movieElement=document.getElementById(this.movieName)}if(this.movieElement===null){throw"Could not find Flash element"}return this.movieElement};SWFUpload.prototype.buildParamString=function(){var e=this.settings.post_params;var t=[];if(typeof e==="object"){for(var n in e){if(e.hasOwnProperty(n)){t.push(encodeURIComponent(n.toString())+"="+encodeURIComponent(e[n].toString()))}}}return t.join("&")};SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,false);var e=null;e=this.getMovieElement();if(e&&typeof e.CallFunction==="unknown"){for(var t in e){try{if(typeof e[t]==="function"){e[t]=null}}catch(n){}}try{e.parentNode.removeChild(e)}catch(r){}}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieElement=null;this.settings=null;this.customSettings=null;this.eventQueue=null;this.movieName=null;return true}catch(i){return false}};SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","	","upload_url:               ",this.settings.upload_url,"\n","	","flash_url:                ",this.settings.flash_url,"\n","	","use_query_string:         ",this.settings.use_query_string.toString(),"\n","	","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","	","http_success:             ",this.settings.http_success.join(", "),"\n","	","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","	","file_post_name:           ",this.settings.file_post_name,"\n","	","post_params:              ",this.settings.post_params.toString(),"\n","	","file_types:               ",this.settings.file_types,"\n","	","file_types_description:   ",this.settings.file_types_description,"\n","	","file_size_limit:          ",this.settings.file_size_limit,"\n","	","file_upload_limit:        ",this.settings.file_upload_limit,"\n","	","file_queue_limit:         ",this.settings.file_queue_limit,"\n","	","debug:                    ",this.settings.debug.toString(),"\n","	","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","	","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","	","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","	","button_image_url:         ",this.settings.button_image_url.toString(),"\n","	","button_width:             ",this.settings.button_width.toString(),"\n","	","button_height:            ",this.settings.button_height.toString(),"\n","	","button_text:              ",this.settings.button_text.toString(),"\n","	","button_text_style:        ",this.settings.button_text_style.toString(),"\n","	","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","	","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","	","button_action:            ",this.settings.button_action.toString(),"\n","	","button_disabled:          ",this.settings.button_disabled.toString(),"\n","	","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","	","swfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n","	","file_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n","	","file_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),"\n","	","file_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n","	","upload_start_handler assigned:      ",(typeof this.settings.upload_start_handler==="function").toString(),"\n","	","upload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n","	","upload_error_handler assigned:      ",(typeof this.settings.upload_error_handler==="function").toString(),"\n","	","upload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n","	","upload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n","	","debug_handler assigned:             ",(typeof this.settings.debug_handler==="function").toString(),"\n"].join(""))};SWFUpload.prototype.addSetting=function(e,t,n){if(t==undefined){return this.settings[e]=n}else{return this.settings[e]=t}};SWFUpload.prototype.getSetting=function(e){if(this.settings[e]!=undefined){return this.settings[e]}return""};SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement();var returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>");returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}if(returnValue!=undefined&&typeof returnValue.post==="object"){returnValue=this.unescapeFilePostParams(returnValue)}return returnValue};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};SWFUpload.prototype.startUpload=function(e){this.callFlash("StartUpload",[e])};SWFUpload.prototype.cancelUpload=function(e,t){if(t!==false){t=true}this.callFlash("CancelUpload",[e,t])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(e){this.callFlash("SetStats",[e])};SWFUpload.prototype.getFile=function(e){if(typeof e==="number"){return this.callFlash("GetFileByIndex",[e])}else{return this.callFlash("GetFile",[e])}};SWFUpload.prototype.addFileParam=function(e,t,n){return this.callFlash("AddFileParam",[e,t,n])};SWFUpload.prototype.removeFileParam=function(e,t){this.callFlash("RemoveFileParam",[e,t])};SWFUpload.prototype.setUploadURL=function(e){this.settings.upload_url=e.toString();this.callFlash("SetUploadURL",[e])};SWFUpload.prototype.setPostParams=function(e){this.settings.post_params=e;this.callFlash("SetPostParams",[e])};SWFUpload.prototype.addPostParam=function(e,t){this.settings.post_params[e]=t;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(e){delete this.settings.post_params[e];this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.setFileTypes=function(e,t){this.settings.file_types=e;this.settings.file_types_description=t;this.callFlash("SetFileTypes",[e,t])};SWFUpload.prototype.setFileSizeLimit=function(e){this.settings.file_size_limit=e;this.callFlash("SetFileSizeLimit",[e])};SWFUpload.prototype.setFileUploadLimit=function(e){this.settings.file_upload_limit=e;this.callFlash("SetFileUploadLimit",[e])};SWFUpload.prototype.setFileQueueLimit=function(e){this.settings.file_queue_limit=e;this.callFlash("SetFileQueueLimit",[e])};SWFUpload.prototype.setFilePostName=function(e){this.settings.file_post_name=e;this.callFlash("SetFilePostName",[e])};SWFUpload.prototype.setUseQueryString=function(e){this.settings.use_query_string=e;this.callFlash("SetUseQueryString",[e])};SWFUpload.prototype.setRequeueOnError=function(e){this.settings.requeue_on_error=e;this.callFlash("SetRequeueOnError",[e])};SWFUpload.prototype.setHTTPSuccess=function(e){if(typeof e==="string"){e=e.replace(" ","").split(",")}this.settings.http_success=e;this.callFlash("SetHTTPSuccess",[e])};SWFUpload.prototype.setAssumeSuccessTimeout=function(e){this.settings.assume_success_timeout=e;this.callFlash("SetAssumeSuccessTimeout",[e])};SWFUpload.prototype.setDebugEnabled=function(e){this.settings.debug_enabled=e;this.callFlash("SetDebugEnabled",[e])};SWFUpload.prototype.setButtonImageURL=function(e){if(e==undefined){e=""}this.settings.button_image_url=e;this.callFlash("SetButtonImageURL",[e])};SWFUpload.prototype.setButtonDimensions=function(e,t){this.settings.button_width=e;this.settings.button_height=t;var n=this.getMovieElement();if(n!=undefined){n.style.width=e+"px";n.style.height=t+"px"}this.callFlash("SetButtonDimensions",[e,t])};SWFUpload.prototype.setButtonText=function(e){this.settings.button_text=e;this.callFlash("SetButtonText",[e])};SWFUpload.prototype.setButtonTextPadding=function(e,t){this.settings.button_text_top_padding=t;this.settings.button_text_left_padding=e;this.callFlash("SetButtonTextPadding",[e,t])};SWFUpload.prototype.setButtonTextStyle=function(e){this.settings.button_text_style=e;this.callFlash("SetButtonTextStyle",[e])};SWFUpload.prototype.setButtonDisabled=function(e){this.settings.button_disabled=e;this.callFlash("SetButtonDisabled",[e])};SWFUpload.prototype.setButtonAction=function(e){this.settings.button_action=e;this.callFlash("SetButtonAction",[e])};SWFUpload.prototype.setButtonCursor=function(e){this.settings.button_cursor=e;this.callFlash("SetButtonCursor",[e])};SWFUpload.prototype.queueEvent=function(e,t){if(t==undefined){t=[]}else{if(!(t instanceof Array)){t=[t]}}var n=this;if(typeof this.settings[e]==="function"){this.eventQueue.push(function(){this.settings[e].apply(this,t)});setTimeout(function(){n.executeNextEvent()},0)}else{if(this.settings[e]!==null){throw"Event handler "+e+" is unknown or is not a function"}}};SWFUpload.prototype.executeNextEvent=function(){var e=this.eventQueue?this.eventQueue.shift():null;if(typeof e==="function"){e.apply(this)}};SWFUpload.prototype.unescapeFilePostParams=function(e){var t=/[$]([0-9a-f]{4})/i;var n={};var r;if(e!=undefined){for(var i in e.post){if(e.post.hasOwnProperty(i)){r=i;var s;while((s=t.exec(r))!==null){r=r.replace(s[0],String.fromCharCode(parseInt("0x"+s[1],16)))}n[r]=e.post[i]}}e.post=n}return e};SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(e){return false}};SWFUpload.prototype.flashReady=function(){var e=this.getMovieElement();if(!e){this.debug("Flash called back ready but the flash movie can't be found.");return}this.cleanUp(e);this.queueEvent("swfupload_loaded_handler")};SWFUpload.prototype.cleanUp=function(e){try{if(this.movieElement&&typeof e.CallFunction==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var t in e){try{if(typeof e[t]==="function"){e[t]=null}}catch(n){}}}}catch(r){}window.__flash__removeCallback=function(e,t){try{if(e){e[t]=null}}catch(n){}}};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};SWFUpload.prototype.fileQueued=function(e){e=this.unescapeFilePostParams(e);this.queueEvent("file_queued_handler",e)};SWFUpload.prototype.fileQueueError=function(e,t,n){e=this.unescapeFilePostParams(e);this.queueEvent("file_queue_error_handler",[e,t,n])};SWFUpload.prototype.fileDialogComplete=function(e,t,n){this.queueEvent("file_dialog_complete_handler",[e,t,n])};SWFUpload.prototype.uploadStart=function(e){e=this.unescapeFilePostParams(e);this.queueEvent("return_upload_start_handler",e)};SWFUpload.prototype.returnUploadStart=function(e){var t;if(typeof this.settings.upload_start_handler==="function"){e=this.unescapeFilePostParams(e);t=this.settings.upload_start_handler.call(this,e)}else{if(this.settings.upload_start_handler!=undefined){throw"upload_start_handler must be a function"}}if(t===undefined){t=true}t=!!t;this.callFlash("ReturnUploadStart",[t])};SWFUpload.prototype.uploadProgress=function(e,t,n){e=this.unescapeFilePostParams(e);this.queueEvent("upload_progress_handler",[e,t,n])};SWFUpload.prototype.uploadError=function(e,t,n){e=this.unescapeFilePostParams(e);this.queueEvent("upload_error_handler",[e,t,n])};SWFUpload.prototype.uploadSuccess=function(e,t,n){e=this.unescapeFilePostParams(e);this.queueEvent("upload_success_handler",[e,t,n])};SWFUpload.prototype.uploadComplete=function(e){e=this.unescapeFilePostParams(e);this.queueEvent("upload_complete_handler",e)};SWFUpload.prototype.debug=function(e){this.queueEvent("debug_handler",e)};SWFUpload.prototype.debugMessage=function(e){if(this.settings.debug){var t,n=[];if(typeof e==="object"&&typeof e.name==="string"&&typeof e.message==="string"){for(var r in e){if(e.hasOwnProperty(r)){n.push(r+": "+e[r])}}t=n.join("\n")||"";n=t.split("\n");t="EXCEPTION: "+n.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(t)}else{SWFUpload.Console.writeLine(e)}}};SWFUpload.Console={};SWFUpload.Console.writeLine=function(e){var t,n;try{t=document.getElementById("SWFUpload_Console");if(!t){n=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(n);t=document.createElement("textarea");t.id="SWFUpload_Console";t.style.fontFamily="monospace";t.setAttribute("wrap","off");t.wrap="off";t.style.overflow="auto";t.style.width="700px";t.style.height="350px";t.style.margin="5px";n.appendChild(t)}t.value+=e+"\n";t.scrollTop=t.scrollHeight-t.clientHeight}catch(r){alert("Exception: "+r.name+" Message: "+r.message)}};(function(e){var t={init:function(t,r){return this.each(function(){var i=e(this);var s=i.clone();var o=e.extend({id:i.attr("id"),swf:"uploadify.swf",uploader:"uploadify.php",auto:true,buttonClass:"",buttonCursor:"hand",buttonImage:null,buttonText:"SELECT FILES",checkExisting:false,debug:false,fileObjName:"Filedata",fileSizeLimit:0,fileTypeDesc:"All Files",fileTypeExts:"*.*",height:30,method:"post",multi:true,formData:{},preventCaching:true,progressData:"percentage",queueID:false,queueSizeLimit:999,removeCompleted:true,removeTimeout:3,requeueErrors:false,successTimeout:30,uploadLimit:0,width:120,overrideEvents:[]},t);var u={assume_success_timeout:o.successTimeout,button_placeholder_id:o.id,button_width:o.width,button_height:o.height,button_text:null,button_text_style:null,button_text_top_padding:0,button_text_left_padding:0,button_action:o.multi?SWFUpload.BUTTON_ACTION.SELECT_FILES:SWFUpload.BUTTON_ACTION.SELECT_FILE,button_disabled:false,button_cursor:o.buttonCursor=="arrow"?SWFUpload.CURSOR.ARROW:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,debug:o.debug,requeue_on_error:o.requeueErrors,file_post_name:o.fileObjName,file_size_limit:o.fileSizeLimit,file_types:o.fileTypeExts,file_types_description:o.fileTypeDesc,file_queue_limit:o.queueSizeLimit,file_upload_limit:o.uploadLimit,flash_url:o.swf,prevent_swf_caching:o.preventCaching,post_params:o.formData,upload_url:o.uploader,use_query_string:o.method=="get",file_dialog_complete_handler:n.onDialogClose,file_dialog_start_handler:n.onDialogOpen,file_queued_handler:n.onSelect,file_queue_error_handler:n.onSelectError,swfupload_loaded_handler:o.onSWFReady,upload_complete_handler:n.onUploadComplete,upload_error_handler:n.onUploadError,upload_progress_handler:n.onUploadProgress,upload_start_handler:n.onUploadStart,upload_success_handler:n.onUploadSuccess};if(r){u=e.extend(u,r)}u=e.extend(u,o);var a=swfobject.getFlashPlayerVersion();var f=a.major>=9;if(f){window["uploadify_"+o.id]=new SWFUpload(u);var l=window["uploadify_"+o.id];i.data("uploadify",l);var c=e("<div />",{id:o.id,"class":"uploadify",css:{height:o.height+"px",width:o.width+"px"}});e("#"+l.movieName).wrap(c);c=e("#"+o.id);c.data("uploadify",l);var h=e("<div />",{id:o.id+"-button","class":"uploadify-button "+o.buttonClass});if(o.buttonImage){h.css({"background-image":"url('"+o.buttonImage+"')","text-indent":"-9999px"})}h.html('<span class="uploadify-button-text">'+o.buttonText+"</span>").css({height:o.height+"px","line-height":o.height+"px",width:o.width+"px"});c.append(h);e("#"+l.movieName).css({position:"absolute","z-index":1});if(!o.queueID){var p=e("<div />",{id:o.id+"-queue","class":"uploadify-queue"});c.after(p);l.settings.queueID=o.id+"-queue";l.settings.defaultQueue=true}l.queueData={files:{},filesSelected:0,filesQueued:0,filesReplaced:0,filesCancelled:0,filesErrored:0,uploadsSuccessful:0,uploadsErrored:0,averageSpeed:0,queueLength:0,queueSize:0,uploadSize:0,queueBytesUploaded:0,uploadQueue:[],errorMsg:"Some files were not added to the queue:"};l.original=s;l.wrapper=c;l.button=h;l.queue=p;if(o.onInit)o.onInit.call(i,l)}else{if(o.onFallback)o.onFallback.call(i)}})},cancel:function(t,n){var r=arguments;this.each(function(){var t=e(this),n=t.data("uploadify"),i=n.settings,s=-1;if(r[0]){if(r[0]=="*"){var o=n.queueData.queueLength;e("#"+i.queueID).find(".uploadify-queue-item").each(function(){s++;if(r[1]===true){n.cancelUpload(e(this).attr("id"),false)}else{n.cancelUpload(e(this).attr("id"))}e(this).find(".data").removeClass("data").html(" - Cancelled");e(this).find(".uploadify-progress-bar").remove();e(this).delay(1e3+100*s).fadeOut(500,function(){e(this).remove()})});n.queueData.queueSize=0;n.queueData.queueLength=0;if(i.onClearQueue)i.onClearQueue.call(t,o)}else{for(var u=0;u<r.length;u++){n.cancelUpload(r[u]);e("#"+r[u]).find(".data").removeClass("data").html(" - Cancelled");e("#"+r[u]).find(".uploadify-progress-bar").remove();e("#"+r[u]).delay(1e3+100*u).fadeOut(500,function(){e(this).remove()})}}}else{var a=e("#"+i.queueID).find(".uploadify-queue-item").get(0);$item=e(a);n.cancelUpload($item.attr("id"));$item.find(".data").removeClass("data").html(" - Cancelled");$item.find(".uploadify-progress-bar").remove();$item.delay(1e3).fadeOut(500,function(){e(this).remove()})}})},destroy:function(){this.each(function(){var t=e(this),n=t.data("uploadify"),r=n.settings;n.destroy();if(r.defaultQueue){e("#"+r.queueID).remove()}e("#"+r.id).replaceWith(n.original);if(r.onDestroy)r.onDestroy.call(this);delete n})},disable:function(t){this.each(function(){var n=e(this),r=n.data("uploadify"),i=r.settings;if(t){r.button.addClass("disabled");if(i.onDisable)i.onDisable.call(this)}else{r.button.removeClass("disabled");if(i.onEnable)i.onEnable.call(this)}r.setButtonDisabled(t)})},settings:function(t,n,r){var i=arguments;var s=n;this.each(function(){var o=e(this),u=o.data("uploadify"),a=u.settings;if(typeof i[0]=="object"){for(var f in n){setData(f,n[f])}}if(i.length===1){s=a[t]}else{switch(t){case"uploader":u.setUploadURL(n);break;case"formData":if(!r){n=e.extend(a.formData,n)}u.setPostParams(a.formData);break;case"method":if(n=="get"){u.setUseQueryString(true)}else{u.setUseQueryString(false)}break;case"fileObjName":u.setFilePostName(n);break;case"fileTypeExts":u.setFileTypes(n,a.fileTypeDesc);break;case"fileTypeDesc":u.setFileTypes(a.fileTypeExts,n);break;case"fileSizeLimit":u.setFileSizeLimit(n);break;case"uploadLimit":u.setFileUploadLimit(n);break;case"queueSizeLimit":u.setFileQueueLimit(n);break;case"buttonImage":u.button.css("background-image",settingValue);break;case"buttonCursor":if(n=="arrow"){u.setButtonCursor(SWFUpload.CURSOR.ARROW)}else{u.setButtonCursor(SWFUpload.CURSOR.HAND)}break;case"buttonText":e("#"+a.id+"-button").find(".uploadify-button-text").html(n);break;case"width":u.setButtonDimensions(n,a.height);break;case"height":u.setButtonDimensions(a.width,n);break;case"multi":if(n){u.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILES)}else{u.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILE)}break}a[t]=n}});if(i.length===1){return s}},stop:function(){this.each(function(){var t=e(this),n=t.data("uploadify");n.queueData.averageSpeed=0;n.queueData.uploadSize=0;n.queueData.bytesUploaded=0;n.queueData.uploadQueue=[];n.stopUpload()})},upload:function(){var t=arguments;this.each(function(){var n=e(this),r=n.data("uploadify");r.queueData.averageSpeed=0;r.queueData.uploadSize=0;r.queueData.bytesUploaded=0;r.queueData.uploadQueue=[];if(t[0]){if(t[0]=="*"){r.queueData.uploadSize=r.queueData.queueSize;r.queueData.uploadQueue.push("*");r.startUpload()}else{for(var i=0;i<t.length;i++){r.queueData.uploadSize+=r.queueData.files[t[i]].size;r.queueData.uploadQueue.push(t[i])}r.startUpload(r.queueData.uploadQueue.shift())}}else{r.startUpload()}})}};var n={onDialogOpen:function(){var e=this.settings;this.queueData.errorMsg="Some files were not added to the queue:";this.queueData.filesReplaced=0;this.queueData.filesCancelled=0;if(e.onDialogOpen)e.onDialogOpen.call(this)},onDialogClose:function(t,n,r){var i=this.settings;this.queueData.filesErrored=t-n;this.queueData.filesSelected=t;this.queueData.filesQueued=n-this.queueData.filesCancelled;this.queueData.queueLength=r;if(e.inArray("onDialogClose",i.overrideEvents)<0){if(this.queueData.filesErrored>0){alert(this.queueData.errorMsg)}}if(i.onDialogClose)i.onDialogClose.call(this,this.queueData);if(i.auto)e("#"+i.id).uploadify("upload","*")},onSelect:function(t){var n=this.settings;var r={};for(var i in this.queueData.files){r=this.queueData.files[i];if(r.uploaded!=true&&r.name==t.name){var s=confirm('The file named "'+t.name+'" is already in the queue.\nDo you want to replace the existing item in the queue?');if(!s){this.cancelUpload(t.id);this.queueData.filesCancelled++;return false}else{e("#"+r.id).remove();this.cancelUpload(r.id);this.queueData.filesReplaced++}}}var o=Math.round(t.size/1024);var u="KB";if(o>1e3){o=Math.round(o/1e3);u="MB"}var a=o.toString().split(".");o=a[0];if(a.length>1){o+="."+a[1].substr(0,2)}o+=u;var f=t.name;if(f.length>25){f=f.substr(0,25)+"..."}if(e.inArray("onSelect",n.overrideEvents)<0){e("#"+n.queueID).append('<div id="'+t.id+'" class="uploadify-queue-item">                    <div class="cancel">                        <a href="javascript:$(\'#'+n.id+"').uploadify('cancel', '"+t.id+'\')">X</a>                    </div>                    <span class="fileName">'+f+" ("+o+')</span><span class="data"></span>                    <div class="uploadify-progress">                        <div class="uploadify-progress-bar"><!--Progress Bar--></div>                    </div>                </div>')}this.queueData.queueSize+=t.size;this.queueData.files[t.id]=t;if(n.onSelect)n.onSelect.apply(this,arguments)},onSelectError:function(t,n,r){var i=this.settings;if(e.inArray("onSelectError",i.overrideEvents)<0){switch(n){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:if(i.queueSizeLimit>r){this.queueData.errorMsg+="\nThe number of files selected exceeds the remaining upload limit ("+r+")."}else{this.queueData.errorMsg+="\nThe number of files selected exceeds the queue size limit ("+i.queueSizeLimit+")."}break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+t.name+'" exceeds the size limit ('+i.fileSizeLimit+").";break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:this.queueData.errorMsg+='\nThe file "'+t.name+'" is empty.';break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+t.name+'" is not an accepted file type ('+i.fileTypeDesc+").";break}}if(n!=SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED){delete this.queueData.files[t.id]}if(i.onSelectError)i.onSelectError.apply(this,arguments)},onQueueComplete:function(){if(this.settings.onQueueComplete)this.settings.onQueueComplete.call(this,this.settings.queueData)},onUploadComplete:function(t){var n=this.settings,r=this;var i=this.getStats();this.queueData.queueLength=i.files_queued;if(this.queueData.uploadQueue[0]=="*"){if(this.queueData.queueLength>0){this.startUpload()}else{this.queueData.uploadQueue=[];if(n.onQueueComplete)n.onQueueComplete.call(this,this.queueData)}}else{if(this.queueData.uploadQueue.length>0){this.startUpload(this.queueData.uploadQueue.shift())}else{this.queueData.uploadQueue=[];if(n.onQueueComplete)n.onQueueComplete.call(this,this.queueData)}}if(e.inArray("onUploadComplete",n.overrideEvents)<0){if(n.removeCompleted){switch(t.filestatus){case SWFUpload.FILE_STATUS.COMPLETE:setTimeout(function(){if(e("#"+t.id)){r.queueData.queueSize-=t.size;r.queueData.queueLength-=1;delete r.queueData.files[t.id];e("#"+t.id).fadeOut(500,function(){e(this).remove()})}},n.removeTimeout*1e3);break;case SWFUpload.FILE_STATUS.ERROR:if(!n.requeueErrors){setTimeout(function(){if(e("#"+t.id)){r.queueData.queueSize-=t.size;r.queueData.queueLength-=1;delete r.queueData.files[t.id];e("#"+t.id).fadeOut(500,function(){e(this).remove()})}},n.removeTimeout*1e3)}break}}else{t.uploaded=true}}if(n.onUploadComplete)n.onUploadComplete.call(this,t)},onUploadError:function(t,n,r){var i=this.settings;var s="Error";switch(n){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:s="HTTP Error ("+r+")";break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:s="Missing Upload URL";break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:s="IO Error";break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:s="Security Error";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:alert("The upload limit has been reached ("+r+").");s="Exceeds Upload Limit";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:s="Failed";break;case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:s="Validation Error";break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:s="Cancelled";this.queueData.queueSize-=t.size;this.queueData.queueLength-=1;if(t.status==SWFUpload.FILE_STATUS.IN_PROGRESS||e.inArray(t.id,this.queueData.uploadQueue)>=0){this.queueData.uploadSize-=t.size}if(i.onCancel)i.onCancel.call(this,t);delete this.queueData.files[t.id];break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:s="Stopped";break}if(e.inArray("onUploadError",i.overrideEvents)<0){if(n!=SWFUpload.UPLOAD_ERROR.FILE_CANCELLED&&n!=SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED){e("#"+t.id).addClass("uploadify-error")}e("#"+t.id).find(".uploadify-progress-bar").css("width","1px");if(n!=SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND&&t.status!=SWFUpload.FILE_STATUS.COMPLETE){e("#"+t.id).find(".data").html(" - "+s)}}var o=this.getStats();this.queueData.uploadsErrored=o.upload_errors;if(i.onUploadError)i.onUploadError.call(this,t,n,r,s)},onUploadProgress:function(t,n,r){var i=this.settings;var s=new Date;var o=s.getTime();var u=o-this.timer;if(u>500){this.timer=o}var a=n-this.bytesLoaded;this.bytesLoaded=n;var f=this.queueData.queueBytesUploaded+n;var l=Math.round(n/r*100);var c="KB/s";var h=0;var p=a/1024/(u/1e3);p=Math.floor(p*10)/10;if(this.queueData.averageSpeed>0){this.queueData.averageSpeed=Math.floor((this.queueData.averageSpeed+p)/2)}else{this.queueData.averageSpeed=Math.floor(p)}if(p>1e3){h=p*.001;this.queueData.averageSpeed=Math.floor(h);c="MB/s"}if(e.inArray("onUploadProgress",i.overrideEvents)<0){if(i.progressData=="percentage"){e("#"+t.id).find(".data").html(" - "+l+"%")}else if(i.progressData=="speed"&&u>500){e("#"+t.id).find(".data").html(" - "+this.queueData.averageSpeed+c)}e("#"+t.id).find(".uploadify-progress-bar").css("width",l+"%")}if(i.onUploadProgress)i.onUploadProgress.call(this,t,n,r,f,this.queueData.uploadSize)},onUploadStart:function(t){var n=this.settings;var r=new Date;this.timer=r.getTime();this.bytesLoaded=0;if(this.queueData.uploadQueue.length==0){this.queueData.uploadSize=t.size}if(n.checkExisting){e.ajax({type:"POST",async:false,url:n.checkExisting,data:{filename:t.name},success:function(n){if(n==1){var r=confirm('A file with the name "'+t.name+'" already exists on the server.\nWould you like to replace the existing file?');if(!r){this.cancelUpload(t.id);e("#"+t.id).remove();if(this.queueData.uploadQueue.length>0&&this.queueData.queueLength>0){if(this.queueData.uploadQueue[0]=="*"){this.startUpload()}else{this.startUpload(this.queueData.uploadQueue.shift())}}}}}})}if(n.onUploadStart)n.onUploadStart.call(this,t)},onUploadSuccess:function(t,n,r){var i=this.settings;var s=this.getStats();this.queueData.uploadsSuccessful=s.successful_uploads;this.queueData.queueBytesUploaded+=t.size;if(e.inArray("onUploadSuccess",i.overrideEvents)<0){e("#"+t.id).find(".data").html(" - Complete")}if(i.onUploadSuccess)i.onUploadSuccess.call(this,t,n,r)}};e.fn.uploadify=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("The method "+n+" does not exist in $.uploadify")}}})($);(function(e,t,n){(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(jQuery&&!jQuery.fn.qtip){e(jQuery)}})(function(r){function _(n){E={pageX:n.pageX,pageY:n.pageY,type:"mousemove",scrollX:e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}}function D(e){var t=function(e){return e===o||"object"!==typeof e},n=function(e){return!r.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"===typeof e&&!e.jquery&&!e.then)};if(!e||"object"!==typeof e){return s}if(t(e.metadata)){e.metadata={type:e.metadata}}if("content"in e){if(t(e.content)||e.content.jquery){e.content={text:e.content}}if(n(e.content.text||s)){e.content.text=s}if("title"in e.content){if(t(e.content.title)){e.content.title={text:e.content.title}}if(n(e.content.title.text||s)){e.content.title.text=s}}}if("position"in e&&t(e.position)){e.position={my:e.position,at:e.position}}if("show"in e&&t(e.show)){e.show=e.show.jquery?{target:e.show}:{event:e.show}}if("hide"in e&&t(e.hide)){e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}}if("style"in e&&t(e.style)){e.style={classes:e.style}}r.each(w,function(){if(this.sanitize){this.sanitize(e)}});return e}function P(u,a,f,l){function q(e){var t=0,n,r=a,i=e.split(".");while(r=r[i[t++]]){if(t<i.length){n=r}}return[n||a,i.pop()]}function R(e){return T.concat("").join(e?"-"+e+" ":" ")}function U(){var e=a.style.widget,t=H.hasClass(j);H.removeClass(j);j=e?"ui-state-disabled":"qtip-disabled";H.toggleClass(j,t);H.toggleClass("ui-helper-reset "+R(),e).toggleClass(C,a.style.def&&!e);if(F.content){F.content.toggleClass(R("content"),e)}if(F.titlebar){F.titlebar.toggleClass(R("header"),e)}if(F.button){F.button.toggleClass(S+"-icon",!e)}}function z(e){if(F.title){F.titlebar.remove();F.titlebar=F.title=F.button=o;if(e!==s){m.reposition()}}}function W(){var e=a.content.title.button,t=typeof e==="string",n=t?e:"Close tooltip";if(F.button){F.button.remove()}if(e.jquery){F.button=e}else{F.button=r("<a />",{"class":"qtip-close "+(a.style.widget?"":S+"-icon"),title:n,"aria-label":n}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}))}F.button.appendTo(F.titlebar||H).attr("role","button").click(function(e){if(!H.hasClass(j)){m.hide(e)}return s})}function X(){var e=y+"-title";if(F.titlebar){z()}F.titlebar=r("<div />",{"class":S+"-titlebar "+(a.style.widget?R("header"):"")}).append(F.title=r("<div />",{id:e,"class":S+"-title","aria-atomic":i})).insertBefore(F.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){r(this).toggleClass("ui-state-active ui-state-focus",e.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(e){r(this).toggleClass("ui-state-hover",e.type==="mouseover")});if(a.content.title.button){W()}}function V(e){var t=F.button;if(!m.rendered){return s}if(!e){t.remove()}else{W()}}function J(e,t){var n=F.title;if(!m.rendered||!e){return s}if(r.isFunction(e)){e=e.call(u,I.event,m)}if(e===s||!e&&e!==""){return z(s)}else if(e.jquery&&e.length>0){n.empty().append(e.css({display:"block"}))}else{n.html(e)}if(t!==s&&m.rendered&&H[0].offsetWidth>0){m.reposition(I.event)}}function K(e){if(e&&r.isFunction(e.done)){e.done(function(e){Q(e,null,s)})}}function Q(e,t,i){function f(e){function a(n){if(n){delete u[n.src];clearTimeout(m.timers.img[n.src]);r(n).unbind(B)}if(r.isEmptyObject(u)){if(t!==s){m.reposition(I.event)}e()}}var i,u={};if((i=o.find("img[src]:not([height]):not([width])")).length===0){return a()}i.each(function(e,t){if(u[t.src]!==n){return}var i=0,s=3;(function o(){if(t.height||t.width||i>s){return a(t)}i+=1;m.timers.img[t.src]=setTimeout(o,700)})();r(t).bind("error"+B+" load"+B,function(){a(this)});u[t.src]=t})}var o=F.content;if(!m.rendered||!e){return s}if(r.isFunction(e)){e=e.call(u,I.event,m)||""}if(i!==s){K(a.content.deferred)}if(e.jquery&&e.length>0){o.empty().append(e.css({display:"block"}))}else{o.html(e)}if(m.rendered<0){H.queue("fx",f)}else{P=0;f(r.noop)}return m}function G(){function h(e){if(H.hasClass(j)){return s}clearTimeout(m.timers.show);clearTimeout(m.timers.hide);var t=function(){m.toggle(i,e)};if(a.show.delay>0){m.timers.show=setTimeout(t,a.show.delay)}else{t()}}function p(e){if(H.hasClass(j)||A||P){return s}var t=r(e.relatedTarget||e.target),i=t.closest(N)[0]===H[0],u=t[0]===o.show[0];clearTimeout(m.timers.show);clearTimeout(m.timers.hide);if(n.target==="mouse"&&i||a.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||u)){try{e.preventDefault();e.stopImmediatePropagation()}catch(f){}return}if(a.hide.delay>0){m.timers.hide=setTimeout(function(){m.hide(e)},a.hide.delay)}else{m.hide(e)}}function d(e){if(H.hasClass(j)){return s}clearTimeout(m.timers.inactive);m.timers.inactive=setTimeout(function(){m.hide(e)},a.hide.inactive)}function v(e){if(m.rendered&&H[0].offsetWidth>0){m.reposition(e)}}var n=a.position,o={show:a.show.target,hide:a.hide.target,viewport:r(n.viewport),document:r(t),body:r(t.body),window:r(e)},l={show:r.trim(""+a.show.event).split(" "),hide:r.trim(""+a.hide.event).split(" ")},c=w.ie===6;H.bind("mouseenter"+B+" mouseleave"+B,function(e){var t=e.type==="mouseenter";if(t){m.focus(e)}H.toggleClass(L,t)});if(/mouse(out|leave)/i.test(a.hide.event)){if(a.hide.leave==="window"){o.window.bind("mouseout"+B+" blur"+B,function(e){if(!/select|option/.test(e.target.nodeName)&&!e.relatedTarget){m.hide(e)}})}}if(a.hide.fixed){o.hide=o.hide.add(H);H.bind("mouseover"+B,function(){if(!H.hasClass(j)){clearTimeout(m.timers.hide)}})}else if(/mouse(over|enter)/i.test(a.show.event)){o.hide.bind("mouseleave"+B,function(e){clearTimeout(m.timers.show)})}if((""+a.hide.event).indexOf("unfocus")>-1){n.container.closest("html").bind("mousedown"+B+" touchstart"+B,function(e){var t=r(e.target),n=m.rendered&&!H.hasClass(j)&&H[0].offsetWidth>0,i=t.parents(N).filter(H[0]).length>0;if(t[0]!==u[0]&&t[0]!==H[0]&&!i&&!u.has(t[0]).length&&!t.attr("disabled")){m.hide(e)}})}if("number"===typeof a.hide.inactive){o.show.bind("qtip-"+f+"-inactive",d);r.each(b.inactiveEvents,function(e,t){o.hide.add(F.tooltip).bind(t+B+"-inactive",d)})}r.each(l.hide,function(e,t){var n=r.inArray(t,l.show),i=r(o.hide);if(n>-1&&i.add(o.show).length===i.length||t==="unfocus"){o.show.bind(t+B,function(e){if(H[0].offsetWidth>0){p(e)}else{h(e)}});delete l.show[n]}else{o.hide.bind(t+B,p)}});r.each(l.show,function(e,t){o.show.bind(t+B,h)});if("number"===typeof a.hide.distance){o.show.add(H).bind("mousemove"+B,function(e){var t=I.origin||{},n=a.hide.distance,r=Math.abs;if(r(e.pageX-t.pageX)>=n||r(e.pageY-t.pageY)>=n){m.hide(e)}})}if(n.target==="mouse"){o.show.bind("mousemove"+B,_);if(n.adjust.mouse){if(a.hide.event){H.bind("mouseleave"+B,function(e){if((e.relatedTarget||e.target)!==o.show[0]){m.hide(e)}});F.target.bind("mouseenter"+B+" mouseleave"+B,function(e){I.onTarget=e.type==="mouseenter"})}o.document.bind("mousemove"+B,function(e){if(m.rendered&&I.onTarget&&!H.hasClass(j)&&H[0].offsetWidth>0){m.reposition(e||E)}})}}if(n.adjust.resize||o.viewport.length){(r.event.special.resize?o.viewport:o.window).bind("resize"+B,v)}o.window.add(n.container).bind("scroll"+B,v)}function Y(){var n=[a.show.target[0],a.hide.target[0],m.rendered&&F.tooltip[0],a.position.container[0],a.position.viewport[0],a.position.container.closest("html")[0],e,t];if(m.rendered){r([]).pushStack(r.grep(n,function(e){return typeof e==="object"})).unbind(B)}else{a.show.target.unbind(B+"-create")}}var m=this,g=t.body,y=S+"-"+f,A=0,P=0,H=r(),B=".qtip-"+f,j="qtip-disabled",F,I;m.id=f;m.rendered=s;m.destroyed=s;m.elements=F={target:u};m.timers={img:{}};m.options=a;m.checks={};m.plugins={};m.cache=I={event:{},target:r(),disabled:s,attr:l,onTarget:s,lastClass:""};m.checks.builtin={"^id$":function(e,t,n){var o=n===i?b.nextid:n,u=S+"-"+o;if(o!==s&&o.length>0&&!r("#"+u).length){H[0].id=u;F.content[0].id=u+"-content";F.title[0].id=u+"-title"}},"^content.text$":function(e,t,n){Q(a.content.text)},"^content.deferred$":function(e,t,n){K(a.content.deferred)},"^content.title.text$":function(e,t,n){if(!n){return z()}if(!F.title&&n){X()}J(n)},"^content.title.button$":function(e,t,n){V(n)},"^position.(my|at)$":function(e,t,n){if("string"===typeof n){e[t]=new w.Corner(n)}},"^position.container$":function(e,t,n){if(m.rendered){H.appendTo(n)}},"^show.ready$":function(){if(!m.rendered){m.render(1)}else{m.toggle(i)}},"^style.classes$":function(e,t,n){H.attr("class",S+" qtip "+n)},"^style.width|height":function(e,t,n){H.css(t,n)},"^style.widget|content.title":U,"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){H[(r.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=a.position;H.attr("tracking",e.target==="mouse"&&e.adjust.mouse);Y();G()}};r.extend(m,{_triggerEvent:function(e,t,n){var i=r.Event("tooltip"+e);i.originalEvent=(n?r.extend({},n):o)||I.event||o;H.trigger(i,[m].concat(t||[]));return!i.isDefaultPrevented()},render:function(e){if(m.rendered){return m}var t=a.content.text,n=a.content.title,o=a.position;r.attr(u[0],"aria-describedby",y);H=F.tooltip=r("<div/>",{id:y,"class":[S,C,a.style.classes,S+"-pos-"+a.position.my.abbrev()].join(" "),width:a.style.width||"",height:a.style.height||"",tracking:o.target==="mouse"&&o.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":s,"aria-describedby":y+"-content","aria-hidden":i}).toggleClass(j,I.disabled).data("qtip",m).appendTo(a.position.container).append(F.content=r("<div />",{"class":S+"-content",id:y+"-content","aria-atomic":i}));m.rendered=-1;A=1;if(n.text){X();if(!r.isFunction(n.text)){J(n.text,s)}}else if(n.button){W()}if(!r.isFunction(t)||t.then){Q(t,s)}m.rendered=i;U();r.each(a.events,function(e,t){if(r.isFunction(t)){H.bind(e==="toggle"?"tooltipshow tooltiphide":"tooltip"+e,t)}});r.each(w,function(){if(this.initialize==="render"){this(m)}});G();H.queue("fx",function(t){m._triggerEvent("render");A=0;if(a.show.ready||e){m.toggle(i,I.event,s)}t()});return m},get:function(e){var t,n;switch(e.toLowerCase()){case"dimensions":t={height:H.outerHeight(s),width:H.outerWidth(s)};break;case"offset":t=w.offset(H,a.position.container);break;default:n=q(e.toLowerCase());t=n[0][n[1]];t=t.precedance?t.string():t;break}return t},set:function(e,t){function h(e,t){var n,r,i;for(n in l){for(r in l[n]){if(i=(new RegExp(r,"i")).exec(e)){t.push(i);l[n][r].apply(m,t)}}}}var n=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,u=/^content\.(title|attr)|style/i,f=s,l=m.checks,c;if("string"===typeof e){c=e;e={};e[c]=t}else{e=r.extend(i,{},e)}r.each(e,function(t,i){var s=q(t.toLowerCase()),o;o=s[0][s[1]];s[0][s[1]]="object"===typeof i&&i.nodeType?r(i):i;e[t]=[s[0],s[1],i,o];f=n.test(t)||f});D(a);A=1;r.each(e,h);A=0;if(m.rendered&&H[0].offsetWidth>0&&f){m.reposition(a.position.target==="mouse"?o:I.event)}return m},toggle:function(e,n){function b(){if(e){if(w.ie){H[0].style.removeAttribute("filter")}H.css("overflow","");if("string"===typeof u.autofocus){r(u.autofocus,H).focus()}u.target.trigger("qtip-"+f+"-inactive")}else{H.css({display:"",visibility:"",opacity:"",left:"",top:""})}m._triggerEvent(e?"visible":"hidden")}if(n){if(/over|enter/.test(n.type)&&/out|leave/.test(I.event.type)&&a.show.target.add(n.target).length===a.show.target.length&&H.has(n.relatedTarget).length){return m}I.event=r.extend({},n)}if(!m.rendered){return e?m.render(1):m}var o=e?"show":"hide",u=a[o],l=a[!e?"show":"hide"],c=a.position,h=a.content,p=H[0].offsetWidth>0,d=e||u.target.length===1,v=!n||u.target.length<2||I.target[0]===n.target,g,y;if((typeof e).search("boolean|number")){e=!p}if(!H.is(":animated")&&p===e&&v){return m}if(!m._triggerEvent(o,[90])){return m}r.attr(H[0],"aria-hidden",!!!e);if(e){I.origin=r.extend({},E);m.focus(n);if(r.isFunction(h.text)){Q(h.text,s)}if(r.isFunction(h.title.text)){J(h.title.text,s)}if(!M&&c.target==="mouse"&&c.adjust.mouse){r(t).bind("mousemove.qtip",_);M=i}m.reposition(n,arguments[2]);if(!!u.solo){(typeof u.solo==="string"?r(u.solo):r(N,u.solo)).not(H).not(u.target).qtip("hide",r.Event("tooltipsolo"))}}else{clearTimeout(m.timers.show);delete I.origin;if(M&&!r(N+'[tracking="true"]:visible',u.solo).not(H).length){r(t).unbind("mousemove.qtip");M=s}m.blur(n)}if(u.effect===s||d===s){H[o]();b.call(H)}else if(r.isFunction(u.effect)){H.stop(1,1);u.effect.call(H,m);H.queue("fx",function(e){b();e()})}else{H.fadeTo(90,e?1:0,b)}if(e){u.target.trigger("qtip-"+f+"-inactive")}return m},show:function(e){return m.toggle(i,e)},hide:function(e){return m.toggle(s,e)},focus:function(e){if(!m.rendered){return m}var t=r(N),n=parseInt(H[0].style.zIndex,10),i=b.zindex+t.length,s=r.extend({},e),o;if(!H.hasClass(k)){if(m._triggerEvent("focus",[i],s)){if(n!==i){t.each(function(){if(this.style.zIndex>n){this.style.zIndex=this.style.zIndex-1}});t.filter("."+k).qtip("blur",s)}H.addClass(k)[0].style.zIndex=i}}return m},blur:function(e){H.removeClass(k);m._triggerEvent("blur",[H.css("zIndex")],e);return m},reposition:function(n,i){if(!m.rendered||A){return m}A=1;var o=a.position.target,u=a.position,f=u.my,l=u.at,g=u.adjust,y=g.method.split(" "),b=H.outerWidth(s),S=H.outerHeight(s),x=0,T=0,N=H.css("position"),C=u.viewport,k={left:0,top:0},L=u.container,O=H[0].offsetWidth>0,M=n&&n.type==="scroll",_=r(e),D,P;if(r.isArray(o)&&o.length===2){l={x:h,y:c};k={left:o[0],top:o[1]}}else if(o==="mouse"&&(n&&n.pageX||I.event.pageX)){l={x:h,y:c};n=E&&E.pageX&&(g.mouse||!n||!n.pageX)?{pageX:E.pageX,pageY:E.pageY}:(n&&(n.type==="resize"||n.type==="scroll")?I.event:n&&n.pageX&&n.type==="mousemove"?n:(!g.mouse||a.show.distance)&&I.origin&&I.origin.pageX?I.origin:n)||n||I.event||E||{};if(N!=="static"){k=L.offset()}k={left:n.pageX-k.left,top:n.pageY-k.top};if(g.mouse&&M){k.left-=E.scrollX-_.scrollLeft();k.top-=E.scrollY-_.scrollTop()}}else{if(o==="event"&&n&&n.target&&n.type!=="scroll"&&n.type!=="resize"){I.target=r(n.target)}else if(o!=="event"){I.target=r(o.jquery?o:F.target)}o=I.target;o=r(o).eq(0);if(o.length===0){return m}else if(o[0]===t||o[0]===e){x=w.iOS?e.innerWidth:o.width();T=w.iOS?e.innerHeight:o.height();if(o[0]===e){k={top:(C||o).scrollTop(),left:(C||o).scrollLeft()}}}else if(w.imagemap&&o.is("area")){D=w.imagemap(m,o,l,w.viewport?y:s)}else if(w.svg&&o[0].ownerSVGElement){D=w.svg(m,o,l,w.viewport?y:s)}else{x=o.outerWidth(s);T=o.outerHeight(s);k=w.offset(o,L)}if(D){x=D.width;T=D.height;P=D.offset;k=D.position}if(w.iOS>3.1&&w.iOS<4.1||w.iOS>=4.3&&w.iOS<4.33||!w.iOS&&N==="fixed"){k.left-=_.scrollLeft();k.top-=_.scrollTop()}k.left+=l.x===d?x:l.x===v?x/2:0;k.top+=l.y===p?T:l.y===v?T/2:0}k.left+=g.x+(f.x===d?-b:f.x===v?-b/2:0);k.top+=g.y+(f.y===p?-S:f.y===v?-S/2:0);if(w.viewport){k.adjusted=w.viewport(m,k,u,x,T,b,S);if(P&&k.adjusted.left){k.left+=P.left}if(P&&k.adjusted.top){k.top+=P.top}}else{k.adjusted={left:0,top:0}}if(!m._triggerEvent("move",[k,C.elem||C],n)){return m}delete k.adjusted;if(i===s||!O||isNaN(k.left)||isNaN(k.top)||o==="mouse"||!r.isFunction(u.effect)){H.css(k)}else if(r.isFunction(u.effect)){u.effect.call(H,m,r.extend({},k));H.queue(function(e){r(this).css({opacity:"",height:""});if(w.ie){this.style.removeAttribute("filter")}e()})}A=0;return m},disable:function(e){if("boolean"!==typeof e){e=!(H.hasClass(j)||I.disabled)}if(m.rendered){H.toggleClass(j,e);r.attr(H[0],"aria-disabled",e)}else{I.disabled=!!e}return m},enable:function(){return m.disable(s)},destroy:function(){var e=u[0],t=r.attr(e,O),n=u.data("qtip");m.destroyed=i;if(m.rendered){H.stop(1,0).remove();r.each(m.plugins,function(){if(this.destroy){this.destroy()}})}clearTimeout(m.timers.show);clearTimeout(m.timers.hide);Y();if(!n||m===n){r.removeData(e,"qtip");if(a.suppress&&t){r.attr(e,"title",t);u.removeAttr(O)}u.removeAttr("aria-describedby")}u.unbind(".qtip-"+f);delete x[m.id];return u}})}function H(e,n){var u,a,f,l,c,h=r(this),p=r(t.body),d=this===t?p:h,v=h.metadata?h.metadata(n.metadata):o,m=n.metadata.type==="html5"&&v?v[n.metadata.name]:o,g=h.data(n.metadata.name||"qtipopts");try{g=typeof g==="string"?r.parseJSON(g):g}catch(y){}l=r.extend(i,{},b.defaults,n,typeof g==="object"?D(g):o,D(m||v));a=l.position;l.id=e;if("boolean"===typeof l.content.text){f=h.attr(l.content.attr);if(l.content.attr!==s&&f){l.content.text=f}else{return s}}if(!a.container.length){a.container=p}if(a.target===s){a.target=d}if(l.show.target===s){l.show.target=d}if(l.show.solo===i){l.show.solo=a.container.closest("body")}if(l.hide.target===s){l.hide.target=d}if(l.position.viewport===i){l.position.viewport=a.container}a.container=a.container.eq(0);a.at=new w.Corner(a.at);a.my=new w.Corner(a.my);if(r.data(this,"qtip")){if(l.overwrite){h.qtip("destroy")}else if(l.overwrite===s){return s}}if(l.suppress&&(c=r.attr(this,"title"))){r(this).removeAttr("title").attr(O,c).attr("title","")}u=new P(h,l,e,!!f);r.data(this,"qtip",u);h.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){u.destroy()});return u}function B(e){var t=this,n=e.elements.tooltip,o=e.options.content.ajax,u=b.defaults.content.ajax,a=".qtip-ajax",f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,l=i,c=s,h;e.checks.ajax={"^content.ajax":function(e,r,i){if(r==="ajax"){o=i}if(r==="once"){t.init()}else if(o&&o.url){t.load()}else{n.unbind(a)}}};r.extend(t,{init:function(){if(o&&o.url){n.unbind(a)[o.once?"one":"bind"]("tooltipshow"+a,t.load)}return t},load:function(n){function g(){var t;if(e.destroyed){return}l=s;if(v){c=i;e.show(n.originalEvent)}if((t=u.complete||o.complete)&&r.isFunction(t)){t.apply(o.context||e,arguments)}}function y(t,n,i){var s;if(e.destroyed){return}if(d&&"string"===typeof t){t=r("<div/>").append(t.replace(f,"")).find(d)}if((s=u.success||o.success)&&r.isFunction(s)){s.call(o.context||e,t,n,i)}else{e.set("content.text",t)}}function b(t,n,r){if(e.destroyed||t.status===0){return}e.set("content.text",n+": "+r)}if(c){c=s;return}var a=o.url.lastIndexOf(" "),p=o.url,d,v=!o.loading&&l;if(v){try{n.preventDefault()}catch(m){}}else if(n&&n.isDefaultPrevented()){return t}if(h&&h.abort){h.abort()}if(a>-1){d=p.substr(a);p=p.substr(0,a)}h=r.ajax(r.extend({error:u.error||b,context:e},o,{url:p,success:y,complete:g}))},destroy:function(){if(h&&h.abort){h.abort()}e.destroyed=i}});t.init()}function j(e,t,n){var r=Math.ceil(t/2),i=Math.ceil(n/2),s={bottomright:[[0,0],[t,n],[t,0]],bottomleft:[[0,0],[t,0],[0,n]],topright:[[0,n],[t,0],[t,n]],topleft:[[0,0],[0,n],[t,n]],topcenter:[[0,n],[r,0],[t,n]],bottomcenter:[[0,0],[t,0],[r,n]],rightcenter:[[0,0],[t,i],[0,n]],leftcenter:[[t,0],[t,n],[0,i]]};s.lefttop=s.bottomright;s.righttop=s.bottomleft;s.leftbottom=s.topright;s.rightbottom=s.topleft;return s[e.string()]}function F(e,t){function A(e){var t=E.is(":visible");E.show();e();E.toggle(t)}function O(){x.width=g.height;x.height=g.width}function M(){x.width=g.width;x.height=g.height}function _(t,r,o,f){if(!b.tip){return}var l=m.corner.clone(),w=o.adjusted,E=e.options.position.adjust.method.split(" "),x=E[0],T=E[1]||E[0],N={left:s,top:s,x:0,y:0},C,k={},L;if(m.corner.fixed!==i){if(x===y&&l.precedance===u&&w.left&&l.y!==v){l.precedance=l.precedance===u?a:u}else if(x!==y&&w.left){l.x=l.x===v?w.left>0?h:d:l.x===h?d:h}if(T===y&&l.precedance===a&&w.top&&l.x!==v){l.precedance=l.precedance===a?u:a}else if(T!==y&&w.top){l.y=l.y===v?w.top>0?c:p:l.y===c?p:c}if(l.string()!==S.corner.string()&&(S.top!==w.top||S.left!==w.left)){m.update(l,s)}}C=m.position(l,w);C[l.x]+=P(l,l.x);C[l.y]+=P(l,l.y);if(C.right!==n){C.left=-C.right}if(C.bottom!==n){C.top=-C.bottom}C.user=Math.max(0,g.offset);if(N.left=x===y&&!!w.left){if(l.x===v){k["margin-left"]=N.x=C["margin-left"]}else{L=C.right!==n?[w.left,-C.left]:[-w.left,C.left];if((N.x=Math.max(L[0],L[1]))>L[0]){o.left-=w.left;N.left=s}k[C.right!==n?d:h]=N.x}}if(N.top=T===y&&!!w.top){if(l.y===v){k["margin-top"]=N.y=C["margin-top"]}else{L=C.bottom!==n?[w.top,-C.top]:[-w.top,C.top];if((N.y=Math.max(L[0],L[1]))>L[0]){o.top-=w.top;N.top=s}k[C.bottom!==n?p:c]=N.y}}b.tip.css(k).toggle(!(N.x&&N.y||l.x===v&&N.y||l.y===v&&N.x));o.left-=C.left.charAt?C.user:x!==y||N.top||!N.left&&!N.top?C.left:0;o.top-=C.top.charAt?C.user:T!==y||N.left||!N.left&&!N.top?C.top:0;S.left=w.left;S.top=w.top;S.corner=l.clone()}function D(){var t=g.corner,n=e.options.position,r=n.at,o=n.my.string?n.my.string():n.my;if(t===s||o===s&&r===s){return s}else{if(t===i){m.corner=new w.Corner(o)}else if(!t.string){m.corner=new w.Corner(t);m.corner.fixed=i}}S.corner=new w.Corner(m.corner.string());return m.corner.string()!=="centercenter"}function P(e,t,n){t=!t?e[e.precedance]:t;var r=b.titlebar&&e.y===c,i=r?b.titlebar:E,s="border-"+t+"-width",o=function(e){return parseInt(e.css(s),10)},u;A(function(){u=(n?o(n):o(b.content)||o(i)||o(E))||0});return u}function H(e){var t=b.titlebar&&e.y===c,n=t?b.titlebar:b.content,r="-moz-",i="-webkit-",s="border-radius-"+e.y+e.x,o="border-"+e.y+"-"+e.x+"-radius",u=function(e){return parseInt(n.css(e),10)||parseInt(E.css(e),10)},a;A(function(){a=u(o)||u(s)||u(r+o)||u(r+s)||u(i+o)||u(i+s)||0});return a}function B(e){function N(e,t,n){var r=e.css(t)||p;if(n&&r===e.css(n)){return s}else{return f.test(r)?s:r}}var t,n,o,u=b.tip.css("cssText",""),a=e||m.corner,f=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,l="border-"+a[a.precedance]+"-color",h="background-color",p="transparent",d=" !important",y=b.titlebar,w=y&&(a.y===c||a.y===v&&u.position().top+x.height/2+g.offset<y.outerHeight(i)),S=w?y:b.content;A(function(){T.fill=N(u,h)||N(S,h)||N(b.content,h)||N(E,h)||u.css(h);T.border=N(u,l,"color")||N(S,l,"color")||N(b.content,l,"color")||N(E,l,"color")||E.css(l);r("*",u).add(u).css("cssText",h+":"+p+d+";border:0"+d+";")})}function F(e){var t=e.precedance===a,n=x[t?f:l],r=x[t?l:f],i=e.string().indexOf(v)>-1,s=n*(i?.5:1),o=Math.pow,u=Math.round,c,h,p,d=Math.sqrt(o(s,2)+o(r,2)),m=[N/s*d,N/r*d];m[2]=Math.sqrt(o(m[0],2)-o(N,2));m[3]=Math.sqrt(o(m[1],2)-o(N,2));c=d+m[2]+m[3]+(i?0:m[0]);h=c/d;p=[u(h*r),u(h*n)];return{height:p[t?0:1],width:p[t?1:0]}}function I(e,t,n){return"<qvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'}var m=this,g=e.options.style.tip,b=e.elements,E=b.tooltip,S={top:0,left:0},x={width:g.width,height:g.height},T={},N=g.border||0,C=".qtip-tip",k=!!(r("<canvas />")[0]||{}).getContext,L;m.corner=o;m.mimic=o;m.border=N;m.offset=g.offset;m.size=x;e.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){if(!m.init()){m.destroy()}e.reposition()},"^style.tip.(height|width)$":function(){x={width:g.width,height:g.height};m.create();m.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){if(b.tip&&b.tip.length){m.update()}}};r.extend(m,{init:function(){var e=D()&&(k||w.ie);if(e){m.create();m.update();E.unbind(C).bind("tooltipmove"+C,_)}return e},create:function(){var e=x.width,t=x.height,n;if(b.tip){b.tip.remove()}b.tip=r("<div />",{"class":"qtip-tip"}).css({width:e,height:t}).prependTo(E);if(k){r("<canvas />").appendTo(b.tip)[0].getContext("2d").save()}else{n=I("shape",'coordorigin="0,0"',"position:absolute;");b.tip.html(n+n);r("*",b.tip).bind("click mousedown",function(e){e.stopPropagation()})}},update:function(e,t){var n=b.tip,f=n.children(),l=x.width,y=x.height,C=g.mimic,L=Math.round,A,_,D,H,q;if(!e){e=S.corner||m.corner}if(C===s){C=e}else{C=new w.Corner(C);C.precedance=e.precedance;if(C.x==="inherit"){C.x=e.x}else if(C.y==="inherit"){C.y=e.y}else if(C.x===C.y){C[e.precedance]=e[e.precedance]}}A=C.precedance;if(e.precedance===u){O()}else{M()}b.tip.css({width:l=x.width,height:y=x.height});B(e);if(T.border!=="transparent"){N=P(e,o);if(g.border===0&&N>0){T.fill=T.border}m.border=N=g.border!==i?g.border:N}else{m.border=N=0}D=j(C,l,y);m.size=q=F(e);n.css(q).css("line-height",q.height+"px");if(e.precedance===a){H=[L(C.x===h?N:C.x===d?q.width-l-N:(q.width-l)/2),L(C.y===c?q.height-y:0)]}else{H=[L(C.x===h?q.width-l:0),L(C.y===c?N:C.y===p?q.height-y-N:(q.height-y)/2)]}if(k){f.attr(q);_=f[0].getContext("2d");_.restore();_.save();_.clearRect(0,0,3e3,3e3);_.fillStyle=T.fill;_.strokeStyle=T.border;_.lineWidth=N*2;_.lineJoin="miter";_.miterLimit=100;_.translate(H[0],H[1]);_.beginPath();_.moveTo(D[0][0],D[0][1]);_.lineTo(D[1][0],D[1][1]);_.lineTo(D[2][0],D[2][1]);_.closePath();if(N){if(E.css("background-clip")==="border-box"){_.strokeStyle=T.fill;_.stroke()}_.strokeStyle=T.border;_.stroke()}_.fill()}else{D="m"+D[0][0]+","+D[0][1]+" l"+D[1][0]+","+D[1][1]+" "+D[2][0]+","+D[2][1]+" xe";H[2]=N&&/^(r|b)/i.test(e.string())?w.ie===8?2:1:0;f.css({coordsize:l+N+" "+(y+N),antialias:""+(C.string().indexOf(v)>-1),left:H[0],top:H[1],width:l+N,height:y+N}).each(function(e){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:l+N+" "+(y+N),path:D,fillcolor:T.fill,filled:!!e,stroked:!e}).toggle(!!(N||e));if(!e&&t.html()===""){t.html(I("stroke",'weight="'+N*2+'px" color="'+T.border+'" miterlimit="1000" joinstyle="miter"'))}})}if(t!==s){m.position(e)}},position:function(e){var t=b.tip,n={},i=Math.max(0,g.offset),o,p,d;if(g.corner===s||!t){return s}e=e||m.corner;o=e.precedance;p=F(e);d=[e.x,e.y];if(o===u){d.reverse()}r.each(d,function(t,r){var s,u,d;if(r===v){s=o===a?h:c;n[s]="50%";n["margin-"+s]=-Math.round(p[o===a?f:l]/2)+i}else{s=P(e,r);u=P(e,r,b.content);d=H(e);n[r]=t?u:i+(d>s?d:-s)}});n[e[o]]-=p[o===u?f:l];t.css({top:"",bottom:"",left:"",right:"",margin:""}).css(n);return n},destroy:function(){if(b.tip){b.tip.remove()}b.tip=false;E.unbind(C)}});m.init()}function I(n){function y(){m=r(v,f).not("[disabled]").map(function(){return typeof this.focus==="function"?this:null})}function b(e){if(m.length<1&&e.length){e.not("body").blur()}else{m.first().focus()}}function E(e){var t=r(e.target),n=t.closest(".qtip"),i;i=n.length<1?s:parseInt(n[0].style.zIndex,10)>parseInt(f[0].style.zIndex,10);if(!i&&r(e.target).closest(N)[0]!==f[0]){b(t)}}var o=this,u=n.options.show.modal,a=n.elements,f=a.tooltip,l="#qtip-overlay",c=".qtipmodal",h=c+n.id,p="is-modal-qtip",d=r(t.body),v=w.modal.focusable.join(","),m={},g;n.checks.modal={"^show.modal.(on|blur)$":function(){o.init();a.overlay.toggle(f.is(":visible"))},"^content.text$":function(){y()}};r.extend(o,{init:function(){if(!u.on){return o}g=o.create();f.attr(p,i).css("z-index",w.modal.zindex+r(N+"["+p+"]").length).unbind(c).unbind(h).bind("tooltipshow"+c+" tooltiphide"+c,function(e,t,n){var i=e.originalEvent;if(e.target===f[0]){if(i&&e.type==="tooltiphide"&&/mouse(leave|enter)/.test(i.type)&&r(i.relatedTarget).closest(g[0]).length){try{e.preventDefault()}catch(s){}}else if(!i||i&&!i.solo){o[e.type.replace("tooltip","")](e,n)}}}).bind("tooltipfocus"+c,function(e){if(e.isDefaultPrevented()||e.target!==f[0]){return}var t=r(N).filter("["+p+"]"),n=w.modal.zindex+t.length,i=parseInt(f[0].style.zIndex,10);g[0].style.zIndex=n-2;t.each(function(){if(this.style.zIndex>i){this.style.zIndex-=1}});t.end().filter("."+k).qtip("blur",e.originalEvent);f.addClass(k)[0].style.zIndex=n;try{e.preventDefault()}catch(s){}}).bind("tooltiphide"+c,function(e){if(e.target===f[0]){r("["+p+"]").filter(":visible").not(f).last().qtip("focus",e)}});if(u.escape){r(t).unbind(h).bind("keydown"+h,function(e){if(e.keyCode===27&&f.hasClass(k)){n.hide(e)}})}if(u.blur){a.overlay.unbind(h).bind("click"+h,function(e){if(f.hasClass(k)){n.hide(e)}})}y();return o},create:function(){function i(){g.css({height:n.height(),width:n.width()})}var t=r(l),n=r(e);if(t.length){return a.overlay=t.insertAfter(r(N).last())}g=a.overlay=r("<div />",{id:l.substr(1),html:"<div></div>",mousedown:function(){return s}}).hide().insertAfter(r(N).last());n.unbind(c).bind("resize"+c,i);i();return g},toggle:function(e,t,n){if(e&&e.isDefaultPrevented()){return o}var a=u.effect,l=t?"show":"hide",c=g.is(":visible"),v=r("["+p+"]").filter(":visible").not(f),m;if(!g){g=o.create()}if(g.is(":animated")&&c===t&&g.data("toggleState")!==s||!t&&v.length){return o}if(t){g.css({left:0,top:0});g.toggleClass("blurs",u.blur);if(u.stealfocus!==s){d.bind("focusin"+h,E);b(r("body :focus"))}}else{d.unbind("focusin"+h)}g.stop(i,s).data("toggleState",t);if(r.isFunction(a)){a.call(g,t)}else if(a===s){g[l]()}else{g.fadeTo(parseInt(n,10)||90,t?1:0,function(){if(!t){r(this).hide()}})}if(!t){g.queue(function(e){g.css({left:"",top:""}).removeData("toggleState");e()})}return o},show:function(e,t){return o.toggle(e,i,t)},hide:function(e,t){return o.toggle(e,s,t)},destroy:function(){var e=g;if(e){e=r("["+p+"]").not(f).length<1;if(e){a.overlay.remove();r(t).unbind(c)}else{a.overlay.unbind(c+n.id)}d.unbind("focusin"+h)}return f.removeAttr(p).unbind(c)}});o.init()}function q(n){var o=this,u=n.elements,a=n.options,c=u.tooltip,h=".ie6-"+n.id,p=r("select, object").length<1,d=0,v=s,m;n.checks.ie6={"^content|style$":function(e,t,n){redraw()}};r.extend(o,{init:function(){var n=r(e),s;if(p){u.bgiframe=r('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';" '+' style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); '+'-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>');u.bgiframe.appendTo(c);c.bind("tooltipmove"+h,o.adjustBGIFrame)}m=r("<div/>",{id:"qtip-rcontainer"}).appendTo(t.body);o.redraw();if(u.overlay&&!v){s=function(){u.overlay[0].style.top=n.scrollTop()+"px"};n.bind("scroll.qtip-ie6, resize.qtip-ie6",s);s();u.overlay.addClass("qtipmodal-ie6fix");v=i}},adjustBGIFrame:function(){var e=n.get("dimensions"),t=n.plugins.tip,r=u.tip,i,s;s=parseInt(c.css("border-left-width"),10)||0;s={left:-s,top:-s};if(t&&r){i=t.corner.precedance==="x"?["width","left"]:["height","top"];s[i[1]]-=r[i[0]]()}u.bgiframe.css(s).css(e)},redraw:function(){if(n.rendered<1||d){return o}var e=a.style,t=a.position.container,r,i,s,u;d=1;if(e.height){c.css(l,e.height)}if(e.width){c.css(f,e.width)}else{c.css(f,"").appendTo(m);i=c.width();if(i%2<1){i+=1}s=c.css("max-width")||"";u=c.css("min-width")||"";r=(s+u).indexOf("%")>-1?t.width()/100:0;s=(s.indexOf("%")>-1?r:1)*parseInt(s,10)||i;u=(u.indexOf("%")>-1?r:1)*parseInt(u,10)||0;i=s+u?Math.min(Math.max(i,u),s):i;c.css(f,Math.round(i)).appendTo(t)}d=0;return o},destroy:function(){if(p){u.bgiframe.remove()}c.unbind(h)}});o.init()}var i=true,s=false,o=null,u="x",a="y",f="width",l="height",c="top",h="left",p="bottom",d="right",v="center",m="flip",g="flipinvert",y="shift",b,w,E,S="qtip",x={},T=["ui-widget","ui-tooltip"],N="div.qtip."+S,C=S+"-default",k=S+"-focus",L=S+"-hover",A="_replacedByqTip",O="oldtitle",M;b=r.fn.qtip=function(e,t,u){var a=(""+e).toLowerCase(),f=o,l=r.makeArray(arguments).slice(1),c=l[l.length-1],h=this[0]?r.data(this[0],"qtip"):o;if(!arguments.length&&h||a==="api"){return h}else if("string"===typeof e){this.each(function(){var e=r.data(this,"qtip");if(!e){return i}if(c&&c.timeStamp){e.cache.event=c}if((a==="option"||a==="options")&&t){if(r.isPlainObject(t)||u!==n){e.set(t,u)}else{f=e.get(t);return s}}else if(e[a]){e[a].apply(e[a],l)}});return f!==o?f:this}else if("object"===typeof e||!arguments.length){h=D(r.extend(i,{},e));return b.bind.call(this,h,c)}};b.bind=function(e,t){return this.each(function(o){function p(e){function t(){c.render(typeof e==="object"||u.show.ready);a.show.add(a.hide).unbind(l)}if(c.cache.disabled){return s}c.cache.event=r.extend({},e);c.cache.target=e?r(e.target):[n];if(u.show.delay>0){clearTimeout(c.timers.show);c.timers.show=setTimeout(t,u.show.delay);if(f.show!==f.hide){a.hide.bind(f.hide,function(){clearTimeout(c.timers.show)})}}else{t()}}var u,a,f,l,c,h;h=r.isArray(e.id)?e.id[o]:e.id;h=!h||h===s||h.length<1||x[h]?b.nextid++:x[h]=h;l=".qtip-"+h+"-create";c=H.call(this,h,e);if(c===s){return i}u=c.options;r.each(w,function(){if(this.initialize==="initialize"){this(c)}});a={show:u.show.target,hide:u.hide.target};f={show:r.trim(""+u.show.event).replace(/ /g,l+" ")+l,hide:r.trim(""+u.hide.event).replace(/ /g,l+" ")+l};if(/mouse(over|enter)/i.test(f.show)&&!/mouse(out|leave)/i.test(f.hide)){f.hide+=" mouseleave"+l}a.show.bind("mousemove"+l,function(e){_(e);c.cache.onTarget=i});a.show.bind(f.show,p);if(u.show.ready||u.prerender){p(t)}}).attr("data-hasqtip",i)};w=b.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,v).toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=e.charAt(0);this.precedance=t==="t"||t==="b"?a:u;this.string=function(){return this.precedance===a?this.y+this.x:this.x+this.y};this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:this.precedance===a?t+e:e+t};this.invertx=function(e){this.x=this.x===h?d:this.x===d?h:e||this.x};this.inverty=function(e){this.y=this.y===c?p:this.y===p?c:e||this.y};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,n){function c(e,t){i.left+=t*e.scrollLeft();i.top+=t*e.scrollTop()}var i=e.offset(),s=e.closest("body"),o=w.ie&&t.compatMode!=="CSS1Compat",u=n,a,f,l;if(u){do{if(u.css("position")!=="static"){f=u.position();i.left-=f.left+(parseInt(u.css("borderLeftWidth"),10)||0)+(parseInt(u.css("marginLeft"),10)||0);i.top-=f.top+(parseInt(u.css("borderTopWidth"),10)||0)+(parseInt(u.css("marginTop"),10)||0);if(!a&&(l=u.css("overflow"))!=="hidden"&&l!=="visible"){a=u}}}while((u=r(u[0].offsetParent)).length);if(a&&a[0]!==s[0]||o){c(a||s,1)}}return i},ie:function(){var e=3,n=t.createElement("div");while(n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->"){if(!n.getElementsByTagName("i")[0]){break}}return e>4?e:s}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||s,fn:{attr:function(e,t){if(this.length){var n=this[0],i="title",s=r.data(n,"qtip");if(e===i&&s&&"object"===typeof s&&s.options.suppress){if(arguments.length<2){return r.attr(n,O)}if(s&&s.options.content.attr===i&&s.cache.attr){s.set("content.text",t)}return this.attr(O,t)}}return r.fn["attr"+A].apply(this,arguments)},prop:function(e,t){var n=r.fn["prop"+A];return(n?n:r.fn.attr).apply(this,arguments)},clone:function(e){var t=r([]),n="title",i=r.fn["clone"+A].apply(this,arguments);if(!e){i.filter("["+O+"]").attr("title",function(){return r.attr(this,O)}).removeAttr(O)}return i}}};r.each(w.fn,function(e,t){if(!t||r.fn[e+A]){return i}var n=r.fn[e+A]=r.fn[e];r.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}});if(!r.ui){r["cleanData"+A]=r.cleanData;r.cleanData=function(e){for(var t=0,i;(i=e[t])!==n;t++){try{r(i).triggerHandler("removeqtip")}catch(s){}}r["cleanData"+A](e)}}b.version="2.0.1-5-g";b.nextid=0;b.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.zindex=15e3;b.defaults={prerender:s,id:s,overwrite:i,suppress:i,content:{text:i,attr:"title",deferred:s,title:{text:s,button:s}},position:{my:"top left",at:"bottom right",target:s,container:s,viewport:s,adjust:{x:0,y:0,mouse:i,resize:i,method:"flipinvert flipinvert"},effect:function(e,t,n){r(this).animate(t,{duration:200,queue:s})}},show:{target:s,event:"mouseenter",effect:i,delay:90,solo:s,ready:s,autofocus:s},hide:{target:s,event:"mouseleave",effect:i,delay:0,fixed:s,inactive:s,leave:"window",distance:s},style:{classes:"",widget:s,width:s,height:s,def:i},events:{render:o,move:o,show:o,hide:o,toggle:o,visible:o,hidden:o,focus:o,blur:o}};w.svg=function(e,n,i,s){var o=r(t),u=n[0],a={width:0,height:0,position:{top:1e10,left:1e10}},f,l,c,h,p;while(!u.getBBox){u=u.parentNode}if(u.getBBox&&u.parentNode){f=u.getBBox();l=u.getScreenCTM();c=u.farthestViewportElement||u;if(!c.createSVGPoint){return a}h=c.createSVGPoint();h.x=f.x;h.y=f.y;p=h.matrixTransform(l);a.position.left=p.x;a.position.top=p.y;h.x+=f.width;h.y+=f.height;p=h.matrixTransform(l);a.width=p.x-a.position.left;a.height=p.y-a.position.top;a.position.left+=o.scrollLeft();a.position.top+=o.scrollTop()}return a};w.ajax=function(e){var t=e.plugins.ajax;return"object"===typeof t?t:e.plugins.ajax=new B(e)};w.ajax.initialize="render";w.ajax.sanitize=function(e){var t=e.content,n;if(t&&"ajax"in t){n=t.ajax;if(typeof n!=="object"){n=e.content.ajax={url:n}}if("boolean"!==typeof n.once&&n.once){n.once=!!n.once}}};r.extend(i,b.defaults,{content:{ajax:{loading:i,once:i}}});w.tip=function(e){var t=e.plugins.tip;return"object"===typeof t?t:e.plugins.tip=new F(e)};w.tip.initialize="render";w.tip.sanitize=function(e){var t=e.style,n;if(t&&"tip"in t){n=e.style.tip;if(typeof n!=="object"){e.style.tip={corner:n}}if(!/string|boolean/i.test(typeof n["corner"])){n["corner"]=i}if(typeof n.width!=="number"){delete n.width}if(typeof n.height!=="number"){delete n.height}if(typeof n.border!=="number"&&n.border!==i){delete n.border}if(typeof n.offset!=="number"){delete n.offset}}};r.extend(i,b.defaults,{style:{tip:{corner:i,mimic:s,width:6,height:6,border:i,offset:0}}});w.modal=function(e){var t=e.plugins.modal;return"object"===typeof t?t:e.plugins.modal=new I(e)};w.modal.initialize="render";w.modal.sanitize=function(e){if(e.show){if(typeof e.show.modal!=="object"){e.show.modal={on:!!e.show.modal}}else if(typeof e.show.modal.on==="undefined"){e.show.modal.on=i}}};w.modal.zindex=b.zindex-200;w.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"];r.extend(i,b.defaults,{show:{modal:{on:s,effect:i,blur:i,stealfocus:i,escape:i}}});w.viewport=function(n,r,i,s,o,m,b){function j(e,t,n,i,s,o,u,a,f){var l=r[s],c=x[e],h=T[e],p=n===y,d=-O.offset[s]+A.offset[s]+A["scroll"+s],m=c===s?f:c===o?-f:-f/2,b=h===s?a:h===o?-a:-a/2,w=_&&_.size?_.size[u]||0:0,E=_&&_.corner&&_.corner.precedance===e&&!p?w:0,S=d-l+E,N=l+f-A[u]-d+E,C=m-(x.precedance===e||c===x[t]?b:0)-(h===v?a/2:0);if(p){E=_&&_.corner&&_.corner.precedance===t?w:0;C=(c===s?1:-1)*m-E;r[s]+=S>0?S:N>0?-N:0;r[s]=Math.max(-O.offset[s]+A.offset[s]+(E&&_.corner[e]===v?_.offset:0),l-C,Math.min(Math.max(-O.offset[s]+A.offset[s]+A[u],l+C),r[s]))}else{i*=n===g?2:0;if(S>0&&(c!==s||N>0)){r[s]-=C+i;H["invert"+e](s)}else if(N>0&&(c!==o||S>0)){r[s]-=(c===v?-C:C)+i;H["invert"+e](o)}if(r[s]<d&&-r[s]>N){r[s]=l;H=x.clone()}}return r[s]-l}var w=i.target,E=n.elements.tooltip,x=i.my,T=i.at,N=i.adjust,C=N.method.split(" "),k=C[0],L=C[1]||C[0],A=i.viewport,O=i.container,M=n.cache,_=n.plugins.tip,D={left:0,top:0},P,H,B;if(!A.jquery||w[0]===e||w[0]===t.body||N.method==="none"){return D}P=E.css("position")==="fixed";A={elem:A,height:A[(A[0]===e?"h":"outerH")+"eight"](),width:A[(A[0]===e?"w":"outerW")+"idth"](),scrollleft:P?0:A.scrollLeft(),scrolltop:P?0:A.scrollTop(),offset:A.offset()||{left:0,top:0}};O={elem:O,scrollLeft:O.scrollLeft(),scrollTop:O.scrollTop(),offset:O.offset()||{left:0,top:0}};if(k!=="shift"||L!=="shift"){H=x.clone()}D={left:k!=="none"?j(u,a,k,N.x,h,d,f,s,m):0,top:L!=="none"?j(a,u,L,N.y,c,p,l,o,b):0};if(H&&M.lastClass!==(B=S+"-pos-"+H.abbrev())){E.removeClass(n.cache.lastClass).addClass(n.cache.lastClass=B)}return D};w.imagemap=function(e,t,n,i){function E(e,t,n){var r=0,i=1,s=1,o=0,u=0,a=e.width,f=e.height;while(a>0&&f>0&&i>0&&s>0){a=Math.floor(a/2);f=Math.floor(f/2);if(n.x===h){i=a}else if(n.x===d){i=e.width-a}else{i+=Math.floor(a/2)}if(n.y===c){s=f}else if(n.y===p){s=e.height-f}else{s+=Math.floor(f/2)}r=t.length;while(r--){if(t.length<2){break}o=t[r][0]-e.position.left;u=t[r][1]-e.position.top;if(n.x===h&&o>=i||n.x===d&&o<=i||n.x===v&&(o<i||o>e.width-i)||n.y===c&&u>=s||n.y===p&&u<=s||n.y===v&&(u<s||u>e.height-s)){t.splice(r,1)}}}return{left:t[0][0],top:t[0][1]}}if(!t.jquery){t=r(t)}var s=e.cache.areas={},o=(t[0].shape||t.attr("shape")).toLowerCase(),u=t[0].coords||t.attr("coords"),a=u.split(","),f=[],l=r('img[usemap="#'+t.parent("map").attr("name")+'"]'),m=l.offset(),g={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},y=0,b=0,w;m.left+=Math.ceil((l.outerWidth()-l.width())/2);m.top+=Math.ceil((l.outerHeight()-l.height())/2);if(o==="poly"){y=a.length;while(y--){b=[parseInt(a[--y],10),parseInt(a[y+1],10)];if(b[0]>g.position.right){g.position.right=b[0]}if(b[0]<g.position.left){g.position.left=b[0]}if(b[1]>g.position.bottom){g.position.bottom=b[1]}if(b[1]<g.position.top){g.position.top=b[1]}f.push(b)}}else{y=-1;while(y++<a.length){f.push(parseInt(a[y],10))}}switch(o){case"rect":g={width:Math.abs(f[2]-f[0]),height:Math.abs(f[3]-f[1]),position:{left:Math.min(f[0],f[2]),top:Math.min(f[1],f[3])}};break;case"circle":g={width:f[2]+2,height:f[2]+2,position:{left:f[0],top:f[1]}};break;case"poly":g.width=Math.abs(g.position.right-g.position.left);g.height=Math.abs(g.position.bottom-g.position.top);if(n.abbrev()==="c"){g.position={left:g.position.left+g.width/2,top:g.position.top+g.height/2}}else{if(!s[n+u]){g.position=E(g,f.slice(),n);if(i&&(i[0]==="flip"||i[1]==="flip")){g.offset=E(g,f.slice(),{x:n.x===h?d:n.x===d?h:v,y:n.y===c?p:n.y===p?c:v});g.offset.left-=g.position.left;g.offset.top-=g.position.top}s[n+u]=g}g=s[n+u]}g.width=g.height=0;break}g.position.left+=m.left;g.position.top+=m.top;return g};w.ie6=function(e){var t=e.plugins.ie6;if(w.ie!==6){return s}return"object"===typeof t?t:e.plugins.ie6=new q(e)};w.ie6.initialize="render"})})(window,document);(function(e,t,n){function f(e){var t={},r=/^jQuery\d+$/;n.each(e.attributes,function(e,n){if(n.specified&&!r.test(n.name)){t[n.name]=n.value}});return t}function l(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder")){if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===true){return s[0].value=r}s.focus()}else{i.value="";s.removeClass("placeholder");i==t.activeElement&&i.select()}}}function c(){var e,t=this,r=n(t),i=r,s=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(f(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":true,"placeholder-id":s}).bind("focus.placeholder",l);r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder");r[0].value=r.attr("placeholder")}else{r.removeClass("placeholder")}}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=n.fn,o=n.valHooks,u,a;if(r&&i){a=s.placeholder=function(){return this};a.input=a.textarea=true}else{a=s.placeholder=function(){var e=this;e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",true).trigger("blur.placeholder");return e};a.input=r;a.textarea=i;u={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var i=n(e);if(!i.data("placeholder-enabled")){return e.value=r}if(r==""){e.value=r;if(e!=t.activeElement){c.call(e)}}else if(i.hasClass("placeholder")){l.call(e,true,r)||(e.value=r)}else{e.value=r}return i}};r||(o.input=u);i||(o.textarea=u);n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(l);setTimeout(function(){e.each(c)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);(function(e){e.fn.lightbox_me=function(t){return this.each(function(){function f(){var t=i[0].style;if(n.destroyOnClose){i.add(r).remove()}else{i.add(r).hide()}if(n.parentLightbox){n.parentLightbox.fadeIn(200)}s.remove();i.undelegate(n.closeSelector,"click");e(window).unbind("reposition",c);e(window).unbind("reposition",h);e(window).unbind("scroll",h);e(window).unbind("keyup.lightbox_me");if(o)t.removeExpression("top");n.onClose()}function l(e){if((e.keyCode==27||e.DOM_VK_ESCAPE==27&&e.which==0)&&n.closeEsc)f()}function c(){if(e(window).height()<e(document).height()){r.css({height:e(document).height()+"px"});s.css({height:e(document).height()+"px"})}else{r.css({height:"100%"});if(o){e("html,body").css("height","100%");s.css("height","100%")}}}function h(){var t=i[0].style;i.css({left:"50%",marginLeft:i.outerWidth()/2*-1,zIndex:n.zIndex+3,visibility:"visible"});if(i.height()+80>=e(window).height()&&(i.css("position")!="absolute"||o)){var r=e(document).scrollTop()+40;i.css({position:"absolute",top:r+"px",marginTop:0});if(o){t.removeExpression("top")}}else if(i.height()+80<e(window).height()){if(o){t.position="absolute";if(n.centered){t.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');t.marginTop=0}else{var s=n.modalCSS&&n.modalCSS.top?parseInt(n.modalCSS.top):0;t.setExpression("top","((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+s+') + "px"')}}else{if(n.centered){i.css({position:"fixed",top:"50%",marginTop:i.outerHeight()/2*-1})}else{i.css({position:"fixed"}).css(n.modalCSS)}}}}var n=e.extend({},e.fn.lightbox_me.defaults,t),r=e(),i=e(this),s=e('<iframe id="foo" style="z-index: '+(n.zIndex+1)+';border: none; visibility: visible; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'),o=false;if(n.showOverlay){var u=e(".js_lb_overlay:visible");if(u.length>0){r=e('<div class="lb_overlay_clear js_lb_overlay"/>')}else{r=e('<div class="'+n.classPrefix+'_overlay js_lb_overlay"/>')}}if(o){var a=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";s.attr("src",a);e("body").append(s)}e("body").append(i.hide()).append(r);if(n.showOverlay){c();r.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:n.zIndex+2,display:"none"});if(!r.hasClass("lb_overlay_clear")){r.css(n.overlayCSS)}}if(n.showOverlay){r.fadeIn(n.overlaySpeed,function(){h();i[n.appearEffect](n.lightboxSpeed,function(){c();h();n.onLoad()})})}else{h();i[n.appearEffect](n.lightboxSpeed,function(){n.onLoad()})}if(n.parentLightbox){n.parentLightbox.fadeOut(200)}e(window).resize(c).resize(h).scroll(h);e(window).bind("keyup.lightbox_me",l);if(n.closeClick){r.click(function(e){f();e.preventDefault})}i.delegate(n.closeSelector,"click",function(e){f();e.preventDefault()});i.bind("close",f);i.bind("reposition",h)})};e.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:true,closeEsc:true,destroyOnClose:false,showOverlay:true,parentLightbox:false,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:false,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.3}}})(jQuery);(function(e){e.Jcrop=function(t,n){function a(e){return Math.round(e)+"px"}function f(e){return r.baseClass+"-"+e}function l(){return e.fx.step.hasOwnProperty("backgroundColor")}function c(t){var n=e(t).offset();return[n.left,n.top]}function h(e){return[e.pageX-i[0],e.pageY-i[1]]}function p(t){if(typeof t!=="object")t={};r=e.extend(r,t);e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){if(typeof r[t]!=="function")r[t]=function(){}})}function d(e,t,n){i=c(A);nt.setCursor(e==="move"?e:e+"-resize");if(e==="move"){return nt.activateHandlers(m(t),E,n)}var r=Z.getFixed();var s=g(e);var o=Z.getCorner(g(s));Z.setPressed(Z.getCorner(s));Z.setCurrent(o);nt.activateHandlers(v(e,r),E,n)}function v(e,t){return function(n){if(!r.aspectRatio){switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2;break}}else{switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1;break}}Z.setCurrent(n);tt.update()}}function m(e){var t=e;rt.watchKeys();return function(e){Z.moveOffset([e[0]-t[0],e[1]-t[1]]);t=e;tt.update()}}function g(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function y(e){return function(t){if(r.disabled){return false}if(e==="move"&&!r.allowMove){return false}i=c(A);K=true;d(e,h(t));t.stopPropagation();t.preventDefault();return false}}function b(e,t,n){var r=e.width(),i=e.height();if(r>t&&t>0){r=t;i=t/e.width()*e.height()}if(i>n&&n>0){i=n;r=n/e.height()*e.width()}X=e.width()/r;V=e.height()/i;e.width(r).height(i)}function w(e){return{x:e.x*X,y:e.y*V,x2:e.x2*X,y2:e.y2*V,w:e.w*X,h:e.h*V}}function E(e){var t=Z.getFixed();if(t.w>r.minSelect[0]&&t.h>r.minSelect[1]){tt.enableHandles();tt.done()}else{tt.release()}nt.setCursor(r.allowSelect?"crosshair":"default")}function S(e){if(r.disabled){return false}if(!r.allowSelect){return false}K=true;i=c(A);tt.disableHandles();nt.setCursor("crosshair");var t=h(e);Z.setPressed(t);tt.update();nt.activateHandlers(x,E,e.type.substring(0,5)==="touch");rt.watchKeys();e.stopPropagation();e.preventDefault();return false}function x(e){Z.setCurrent(e);tt.update()}function T(){var t=e("<div></div>").addClass(f("tracker"));if(o){t.css({opacity:0,backgroundColor:"white"})}return t}function it(e){_.removeClass().addClass(f("holder")).addClass(e)}function st(e,t){function b(){window.setTimeout(w,c)}var n=e[0]/X,i=e[1]/V,s=e[2]/X,o=e[3]/V;if(Q){return}var u=Z.flipCoords(n,i,s,o),a=Z.getFixed(),f=[a.x,a.y,a.x2,a.y2],l=f,c=r.animationDelay,h=u[0]-f[0],p=u[1]-f[1],d=u[2]-f[2],v=u[3]-f[3],m=0,g=r.swingSpeed;n=l[0];i=l[1];s=l[2];o=l[3];tt.animMode(true);var y;var w=function(){return function(){m+=(100-m)/g;l[0]=Math.round(n+m/100*h);l[1]=Math.round(i+m/100*p);l[2]=Math.round(s+m/100*d);l[3]=Math.round(o+m/100*v);if(m>=99.8){m=100}if(m<100){ut(l);b()}else{tt.done();tt.animMode(false);if(typeof t==="function"){t.call(yt)}}}}();b()}function ot(e){ut([e[0]/X,e[1]/V,e[2]/X,e[3]/V]);r.onSelect.call(yt,w(Z.getFixed()));tt.enableHandles()}function ut(e){Z.setPressed([e[0],e[1]]);Z.setCurrent([e[2],e[3]]);tt.update()}function at(){return w(Z.getFixed())}function ft(){return Z.getFixed()}function lt(e){p(e);gt()}function ct(){r.disabled=true;tt.disableHandles();tt.setCursor("default");nt.setCursor("default")}function ht(){r.disabled=false;gt()}function pt(){tt.done();nt.activateHandlers(null,null)}function dt(){_.remove();C.show();C.css("visibility","visible");e(t).removeData("Jcrop")}function vt(e,t){tt.release();ct();var n=new Image;n.onload=function(){var i=n.width;var s=n.height;var o=r.boxWidth;var u=r.boxHeight;A.width(i).height(s);A.attr("src",e);D.attr("src",e);b(A,o,u);O=A.width();M=A.height();D.width(O).height(M);F.width(O+j*2).height(M+j*2);_.width(O).height(M);et.resize(O,M);ht();if(typeof t==="function"){t.call(yt)}};n.src=e}function mt(e,t,n){var i=t||r.bgColor;if(r.bgFade&&l()&&r.fadeTime&&!n){e.animate({backgroundColor:i},{queue:false,duration:r.fadeTime})}else{e.css("backgroundColor",i)}}function gt(e){if(r.allowResize){if(e){tt.enableOnly()}else{tt.enableHandles()}}else{tt.disableHandles()}nt.setCursor(r.allowSelect?"crosshair":"default");tt.setCursor(r.allowMove?"move":"default");if(r.hasOwnProperty("trueSize")){X=r.trueSize[0]/O;V=r.trueSize[1]/M}if(r.hasOwnProperty("setSelect")){ot(r.setSelect);tt.done();delete r.setSelect}et.refresh();if(r.bgColor!=I){mt(r.shade?et.getShades():_,r.shade?r.shadeColor||r.bgColor:r.bgColor);I=r.bgColor}if(q!=r.bgOpacity){q=r.bgOpacity;if(r.shade)et.refresh();else tt.setBgOpacity(q)}R=r.maxSize[0]||0;U=r.maxSize[1]||0;z=r.minSize[0]||0;W=r.minSize[1]||0;if(r.hasOwnProperty("outerImage")){A.attr("src",r.outerImage);delete r.outerImage}tt.refresh()}var r=e.extend({},e.Jcrop.defaults),i,s=navigator.userAgent.toLowerCase(),o=/msie/.test(s),u=/msie [1-6]\./.test(s);if(typeof t!=="object"){t=e(t)[0]}if(typeof n!=="object"){n={}}p(n);var N={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0};var C=e(t),k=true;if(t.tagName=="IMG"){if(C[0].width!=0&&C[0].height!=0){C.width(C[0].width);C.height(C[0].height)}else{var L=new Image;L.src=C[0].src;C.width(L.width);C.height(L.height)}var A=C.clone().removeAttr("id").css(N).show();A.width(C.width());A.height(C.height());C.after(A).hide()}else{A=C.css(N).show();k=false;if(r.shade===null){r.shade=true}}b(A,r.boxWidth,r.boxHeight);var O=A.width(),M=A.height(),_=e("<div />").width(O).height(M).addClass(f("holder")).css({position:"relative",backgroundColor:r.bgColor}).insertAfter(C).append(A);if(r.addClass){_.addClass(r.addClass)}var D=e("<div />"),P=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),H=e("<div />").width("100%").height("100%").css("zIndex",320),B=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=Z.getFixed();r.onDblClick.call(yt,e)}).insertBefore(A).append(P,H);if(k){D=e("<img />").attr("src",A.attr("src")).css(N).width(O).height(M),P.append(D)}if(u){B.css({overflowY:"hidden"})}var j=r.boundary;var F=T().width(O+j*2).height(M+j*2).css({position:"absolute",top:a(-j),left:a(-j),zIndex:290}).mousedown(S);var I=r.bgColor,q=r.bgOpacity,R,U,z,W,X,V,J=true,K,Q,G;i=c(A);var Y=function(){function e(){var e={},t=["touchstart","touchmove","touchend"],n=document.createElement("div"),r;try{for(r=0;r<t.length;r++){var i=t[r];i="on"+i;var s=i in n;if(!s){n.setAttribute(i,"return;");s=typeof n[i]=="function"}e[t[r]]=s}return e.touchstart&&e.touchend&&e.touchmove}catch(o){return false}}function t(){if(r.touchSupport===true||r.touchSupport===false)return r.touchSupport;else return e()}return{createDragger:function(e){return function(t){if(r.disabled){return false}if(e==="move"&&!r.allowMove){return false}i=c(A);K=true;d(e,h(Y.cfilter(t)),true);t.stopPropagation();t.preventDefault();return false}},newSelection:function(e){return S(Y.cfilter(e))},cfilter:function(e){e.pageX=e.originalEvent.changedTouches[0].pageX;e.pageY=e.originalEvent.changedTouches[0].pageY;return e},isSupported:e,support:t()}}();var Z=function(){function u(r){r=p(r);n=e=r[0];i=t=r[1]}function a(e){e=p(e);s=e[0]-n;o=e[1]-i;n=e[0];i=e[1]}function f(){return[s,o]}function l(r){var s=r[0],o=r[1];if(0>e+s){s-=s+e}if(0>t+o){o-=o+t}if(M<i+o){o+=M-(i+o)}if(O<n+s){s+=O-(n+s)}e+=s;n+=s;t+=o;i+=o}function c(e){var t=h();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function h(){if(!r.aspectRatio){return v()}var s=r.aspectRatio,o=r.minSize[0]/X,u=r.maxSize[0]/X,a=r.maxSize[1]/V,f=n-e,l=i-t,c=Math.abs(f),h=Math.abs(l),p=c/h,g,y,b,w;if(u===0){u=O*10}if(a===0){a=M*10}if(p<s){y=i;b=h*s;g=f<0?e-b:b+e;if(g<0){g=0;w=Math.abs((g-e)/s);y=l<0?t-w:w+t}else if(g>O){g=O;w=Math.abs((g-e)/s);y=l<0?t-w:w+t}}else{g=n;w=c/s;y=l<0?t-w:t+w;if(y<0){y=0;b=Math.abs((y-t)*s);g=f<0?e-b:b+e}else if(y>M){y=M;b=Math.abs(y-t)*s;g=f<0?e-b:b+e}}if(g>e){if(g-e<o){g=e+o}else if(g-e>u){g=e+u}if(y>t){y=t+(g-e)/s}else{y=t-(g-e)/s}}else if(g<e){if(e-g<o){g=e-o}else if(e-g>u){g=e-u}if(y>t){y=t+(e-g)/s}else{y=t-(e-g)/s}}if(g<0){e-=g;g=0}else if(g>O){e-=g-O;g=O}if(y<0){t-=y;y=0}else if(y>M){t-=y-M;y=M}return m(d(e,t,g,y))}function p(e){if(e[0]<0)e[0]=0;if(e[1]<0)e[1]=0;if(e[0]>O)e[0]=O;if(e[1]>M)e[1]=M;return[Math.round(e[0]),Math.round(e[1])]}function d(e,t,n,r){var i=e,s=n,o=t,u=r;if(n<e){i=n;s=e}if(r<t){o=r;u=t}return[i,o,s,u]}function v(){var r=n-e,s=i-t,o;if(R&&Math.abs(r)>R){n=r>0?e+R:e-R}if(U&&Math.abs(s)>U){i=s>0?t+U:t-U}if(W/V&&Math.abs(s)<W/V){i=s>0?t+W/V:t-W/V}if(z/X&&Math.abs(r)<z/X){n=r>0?e+z/X:e-z/X}if(e<0){n-=e;e-=e}if(t<0){i-=t;t-=t}if(n<0){e-=n;n-=n}if(i<0){t-=i;i-=i}if(n>O){o=n-O;e-=o;n-=o}if(i>M){o=i-M;t-=o;i-=o}if(e>O){o=e-M;i-=o;t-=o}if(t>M){o=t-M;i-=o;t-=o}return m(d(e,t,n,i))}function m(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var e=0,t=0,n=0,i=0,s,o;return{flipCoords:d,setPressed:u,setCurrent:a,getOffset:f,moveOffset:l,getCorner:c,getFixed:h}}();var et=function(){function s(e,t){i.left.css({height:a(t)});i.right.css({height:a(t)})}function o(){return u(Z.getFixed())}function u(e){i.top.css({left:a(e.x),width:a(e.w),height:a(e.y)});i.bottom.css({top:a(e.y2),left:a(e.x),width:a(e.w),height:a(M-e.y2)});i.right.css({left:a(e.x2),width:a(O-e.x2)});i.left.css({width:a(e.x)})}function f(){return e("<div />").css({position:"absolute",backgroundColor:r.shadeColor||r.bgColor}).appendTo(n)}function l(){if(!t){t=true;n.insertBefore(A);o();tt.setBgOpacity(1,0,1);D.hide();c(r.shadeColor||r.bgColor,1);if(tt.isAwake()){p(r.bgOpacity,1)}else p(1,1)}}function c(e,t){mt(v(),e,t)}function h(){if(t){n.remove();D.show();t=false;if(tt.isAwake()){tt.setBgOpacity(r.bgOpacity,1,1)}else{tt.setBgOpacity(1,1,1);tt.disableHandles()}mt(_,0,1)}}function p(e,i){if(t){if(r.bgFade&&!i){n.animate({opacity:1-e},{queue:false,duration:r.fadeTime})}else n.css({opacity:1-e})}}function d(){r.shade?l():h();if(tt.isAwake())p(r.bgOpacity)}function v(){return n.children()}var t=false,n=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),i={top:f(),left:f().height(M),right:f().height(M),bottom:f()};return{update:o,updateRaw:u,getShades:v,setBgColor:c,enable:l,disable:h,resize:s,refresh:d,opacity:p}}();var tt=function(){function l(t){var n=e("<div />").css({position:"absolute",opacity:r.borderOpacity}).addClass(f(t));P.append(n);return n}function c(t,n){var r=e("<div />").mousedown(y(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);if(Y.support){r.bind("touchstart.jcrop",Y.createDragger(t))}H.append(r);return r}function h(e){var t=r.handleSize,i=c(e,n++).css({opacity:r.handleOpacity}).addClass(f("handle"));if(t){i.width(t).height(t)}return i}function p(e){return c(e,n++).addClass("jcrop-dragbar")}function d(e){var t;for(t=0;t<e.length;t++){o[e[t]]=p(e[t])}}function v(e){var t,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":t="hline";break;case"s":t="hline bottom";break;case"e":t="vline right";break;case"w":t="vline";break}i[e[n]]=l(t)}}function m(e){var t;for(t=0;t<e.length;t++){s[e[t]]=h(e[t])}}function g(e,t){if(!r.shade){D.css({top:a(-t),left:a(-e)})}B.css({top:a(t),left:a(e)})}function b(e,t){B.width(Math.round(e)).height(Math.round(t))}function E(){var e=Z.getFixed();Z.setPressed([e.x,e.y]);Z.setCurrent([e.x2,e.y2]);S()}function S(e){if(t){return x(e)}}function x(e){var n=Z.getFixed();b(n.w,n.h);g(n.x,n.y);if(r.shade)et.updateRaw(n);t||C();if(e){r.onSelect.call(yt,w(n))}else{r.onChange.call(yt,w(n))}}function N(e,n,i){if(!t&&!n)return;if(r.bgFade&&!i){A.animate({opacity:e},{queue:false,duration:r.fadeTime})}else{A.css("opacity",e)}}function C(){B.show();if(r.shade)et.opacity(q);else N(q,true);t=true}function k(){M();B.hide();if(r.shade)et.opacity(1);else N(1);t=false;r.onRelease.call(yt)}function L(){if(u){H.show()}}function O(){u=true;if(r.allowResize){H.show();return true}}function M(){u=false;H.hide()}function _(e){if(e){Q=true;M()}else{Q=false;O()}}function j(){_(false);E()}var t,n=370,i={},s={},o={},u=false;if(r.dragEdges&&e.isArray(r.createDragbars))d(r.createDragbars);if(e.isArray(r.createHandles))m(r.createHandles);if(r.drawBorders&&e.isArray(r.createBorders))v(r.createBorders);e(document).bind("touchstart.jcrop-ios",function(t){if(e(t.currentTarget).hasClass("jcrop-tracker"))t.stopPropagation()});var F=T().mousedown(y("move")).css({cursor:"move",position:"absolute",zIndex:360});if(Y.support){F.bind("touchstart.jcrop",Y.createDragger("move"))}P.append(F);M();return{updateVisible:S,update:x,release:k,refresh:E,isAwake:function(){return t},setCursor:function(e){F.css("cursor",e)},enableHandles:O,enableOnly:function(){u=true},showHandles:L,disableHandles:M,animMode:_,setBgOpacity:N,done:j}}();var nt=function(){function s(t){F.css({zIndex:450});if(t)e(document).bind("touchmove.jcrop",l).bind("touchend.jcrop",c);else if(i)e(document).bind("mousemove.jcrop",u).bind("mouseup.jcrop",a)}function o(){F.css({zIndex:290});e(document).unbind(".jcrop")}function u(e){t(h(e));return false}function a(e){e.preventDefault();e.stopPropagation();if(K){K=false;n(h(e));if(tt.isAwake()){r.onSelect.call(yt,w(Z.getFixed()))}o();t=function(){};n=function(){}}return false}function f(e,r,i){K=true;t=e;n=r;s(i);return false}function l(e){t(h(Y.cfilter(e)));return false}function c(e){return a(Y.cfilter(e))}function p(e){F.css("cursor",e)}var t=function(){},n=function(){},i=r.trackDocument;if(!i){F.mousemove(u).mouseup(a).mouseout(a)}A.before(F);return{activateHandlers:f,setCursor:p}}();var rt=function(){function i(){if(r.keySupport){t.show();t.focus()}}function s(e){t.hide()}function o(e,t,n){if(r.allowMove){Z.moveOffset([t,n]);tt.updateVisible(true)}e.preventDefault();e.stopPropagation()}function a(e){if(e.ctrlKey||e.metaKey){return true}G=e.shiftKey?true:false;var t=G?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:if(r.allowSelect)tt.release();break;case 9:return true}return false}var t=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),n=e("<div />").css({position:"absolute",overflow:"hidden"}).append(t);if(r.keySupport){t.keydown(a).blur(s);if(u||!r.fixedSupport){t.css({position:"absolute",left:"-20px"});n.append(t).insertBefore(A)}else{t.insertBefore(A)}}return{watchKeys:i}}();if(Y.support)F.bind("touchstart.jcrop",Y.newSelection);H.hide();gt(true);var yt={setImage:vt,animateTo:st,setSelect:ot,setOptions:lt,tellSelect:at,tellScaled:ft,setClass:it,disable:ct,enable:ht,cancel:pt,release:tt.release,destroy:dt,focus:rt.watchKeys,getBounds:function(){return[O*X,M*V]},getWidgetSize:function(){return[O,M]},getScaleFactor:function(){return[X,V]},getOptions:function(){return r},ui:{holder:_,selection:B}};if(o)_.bind("selectstart",function(){return false});C.data("Jcrop",yt);return yt};e.fn.Jcrop=function(t,n){var r;this.each(function(){if(e(this).data("Jcrop")){if(t==="api")return e(this).data("Jcrop");else e(this).data("Jcrop").setOptions(t)}else{if(this.tagName=="IMG")e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"});r=e.Jcrop(this,t);if(e.isFunction(n))n.call(r)});else{e(this).css({display:"block",visibility:"hidden"});r=e.Jcrop(this,t);if(e.isFunction(n))n.call(r)}}});return this};e.Jcrop.Loader=function(t,n,r){function o(){if(s.complete){i.unbind(".jcloader");if(e.isFunction(n))n.call(s)}else window.setTimeout(o,50)}var i=e(t),s=i[0];i.bind("load.jcloader",o).bind("error.jcloader",function(t){i.unbind(".jcloader");if(e.isFunction(r))r.call(s)});if(s.complete&&e.isFunction(n)){i.unbind(".jcloader");n.call(s)}};e.Jcrop.defaults={allowSelect:true,allowMove:true,allowResize:true,trackDocument:true,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:false,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:true,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:true,dragEdges:true,fixedSupport:true,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);if(jQuery)(function(e){function t(t){var i=e(this),s=e(i.attr("data-dropdown")),o=i.hasClass("dropdown-open");if(e(t.target).hasClass("dropdown-ignore"))return;t.preventDefault();t.stopPropagation();n();if(o||i.hasClass("dropdown-disabled"))return;i.addClass("dropdown-open");s.data("dropdown-trigger",i).show();r();s.trigger("show",{dropdown:s,trigger:i})}function n(t){var n=t?e(t.target).parents().addBack():null;if(n&&n.is(".dropdown")){if(n.is(".dropdown-menu")){if(!n.is("A"))return}else{return}}e(document).find(".dropdown:visible").each(function(){var t=e(this);t.hide().removeData("dropdown-trigger").trigger("hide",{dropdown:t})});e(document).find(".dropdown-open").removeClass("dropdown-open")}function r(){var t=e(".dropdown:visible").eq(0),n=t.data("dropdown-trigger"),r=n?parseInt(n.attr("data-horizontal-offset")||0,10):null,i=n?parseInt(n.attr("data-vertical-offset")||0,10):null;if(t.length===0||!n)return;if(t.hasClass("dropdown-relative")){t.css({left:t.hasClass("dropdown-anchor-right")?n.position().left-(t.outerWidth(true)-n.outerWidth(true))-parseInt(n.css("margin-right"))+r:n.position().left+parseInt(n.css("margin-left"))+r,top:n.position().top+n.outerHeight(true)-parseInt(n.css("margin-top"))+i})}else{t.css({left:t.hasClass("dropdown-anchor-right")?n.offset().left-(t.outerWidth()-n.outerWidth())+r:n.offset().left+r,top:n.offset().top+n.outerHeight()+i})}}e.extend(e.fn,{dropdown:function(t,r){switch(t){case"hide":n();return e(this);case"attach":return e(this).attr("data-dropdown",r);case"detach":n();return e(this).removeAttr("data-dropdown");case"disable":return e(this).addClass("dropdown-disabled");case"enable":n();return e(this).removeClass("dropdown-disabled")}}});e(document).on("click.dropdown","[data-dropdown]",t);e(document).on("click.dropdown",n);e(window).on("resize",r)})(jQuery);(function(e){var t={className:"autosizejs",append:"",callback:false},n="hidden",r="border-box",i="lineHeight",s='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],u="oninput",a="onpropertychange",f,l=e(s).data("autosize",true)[0];l.style.lineHeight="99px";if(e(l).css(i)==="99px"){o.push(i)}l.style.lineHeight="";e.fn.autosize=function(i){i=e.extend({},t,i||{});if(l.parentNode!==document.body){e(document.body).append(l)}return this.each(function(){function m(){f=t;l.className=i.className;e.each(o,function(e,t){l.style[t]=s.css(t)})}function g(){var e,r,o;if(f!==t){m()}if(!h){h=true;l.value=t.value+i.append;l.style.overflowY=t.style.overflowY;o=parseInt(t.style.height,10);l.style.width=Math.max(s.width(),0)+"px";l.scrollTop=0;l.scrollTop=9e4;e=l.scrollTop;var u=parseInt(s.css("maxHeight"),10);u=u&&u>0?u:9e4;if(e>u){e=u;r="scroll"}else if(e<c){e=c}e+=d;t.style.overflowY=r||n;if(o!==e){t.style.height=e+"px";if(v){i.callback.call(t)}}setTimeout(function(){h=false},1)}}var t=this,s=e(t),c,h,p,d=0,v=e.isFunction(i.callback);if(s.data("autosize")){return}if(s.css("box-sizing")===r||s.css("-moz-box-sizing")===r||s.css("-webkit-box-sizing")===r){d=s.outerHeight()-s.height()}c=Math.max(parseInt(s.css("minHeight"),10)-d,s.height());p=s.css("resize")==="none"||s.css("resize")==="vertical"?"none":"horizontal";s.css({overflow:n,overflowY:n,wordWrap:"break-word",resize:p}).data("autosize",true);if(a in t){if(u in t){t[u]=t.onkeyup=g}else{t[a]=g}}else{t[u]=g}e(window).resize(g);s.bind("autosize",g);g()})}})(window.jQuery||window.Zepto);(function(){var e;e=function(){function e(){this.options_index=0;this.parsed=[]}e.prototype.add_node=function(e){if(e.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(e)}else{return this.add_option(e)}};e.prototype.add_group=function(e){var t,n,r,i,s,o;t=this.parsed.length;this.parsed.push({array_index:t,group:true,label:e.label,children:0,disabled:e.disabled});s=e.childNodes;o=[];for(r=0,i=s.length;r<i;r++){n=s[r];o.push(this.add_option(n,t,e.disabled))}return o};e.prototype.add_option=function(e,t,n){if(e.nodeName.toUpperCase()==="OPTION"){if(e.text!==""){if(t!=null){this.parsed[t].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===true?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return e}();e.select_to_array=function(t){var n,r,i,s,o;r=new e;o=t.childNodes;for(i=0,s=o.length;i<s;i++){n=o[i];r.add_node(n)}return r.parsed};this.SelectParser=e}).call(this);(function(){var e,t;t=this;e=function(){function e(e,t){this.form_field=e;this.options=t!=null?t:{};this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}e.prototype.set_default_values=function(){var e=this;this.click_test_action=function(t){return e.test_active_click(t)};this.activate_action=function(t){return e.activate_field(t)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.search_contains=this.options.search_contains||false;this.choices=0;this.single_backstroke_delete=this.options.single_backstroke_delete||false;this.max_selected_options=this.options.max_selected_options||Infinity;return this.inherit_select_classes=this.options.inherit_select_classes||false};e.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options"}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option"}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};e.prototype.mouse_enter=function(){return this.mouse_on_container=true};e.prototype.mouse_leave=function(){return this.mouse_on_container=false};e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return t.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}};e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return t.blur_test()},100)}};e.prototype.result_add_option=function(e){var t,n;if(!e.disabled){e.dom_id=this.container_id+"_o_"+e.array_index;t=e.selected&&this.is_multiple?[]:["active-result"];if(e.selected){t.push("result-selected")}if(e.group_array_index!=null){t.push("group-option")}if(e.classes!==""){t.push(e.classes)}n=e.style.cssText!==""?' style="'+e.style+'"':"";return'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+n+">"+e.html+"</li>"}else{return""}};e.prototype.results_update_field=function(){if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};e.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};e.prototype.results_search=function(e){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};e.prototype.keyup_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode;this.search_field_scale();switch(t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:e.preventDefault();if(this.results_showing){return this.result_select(e)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};e.prototype.generate_field_id=function(){var e;e=this.generate_random_id();this.form_field.id=e;return e};e.prototype.generate_random_char=function(){var e,t,n;e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";n=Math.floor(Math.random()*e.length);return t=e.substring(n,n+1)};return e}();t.AbstractChosen=e}).call(this);(function(){var e,t,n,r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t){if(i.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};r=this;e=jQuery;e.fn.extend({chosen:function(n){var r,i,s;s=navigator.userAgent.toLowerCase();i=/(msie) ([\w.]+)/.exec(s)||[];r={name:i[1]||"",version:i[2]||"0"};if(r.name==="msie"&&(r.version==="6.0"||r.version==="7.0"&&document.documentMode===7)){return this}return this.each(function(r){var i;i=e(this);if(!i.hasClass("chzn-done")){return i.data("chosen",new t(this,n))}})}});t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}s(i,t);i.prototype.setup=function(){this.form_field_jq=e(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};i.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};i.prototype.set_up_html=function(){var t,r,i,s,o,u;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";t=["chzn-container"];t.push("chzn-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){t.push(this.form_field.className)}if(this.is_rtl){t.push("chzn-rtl")}this.f_width=this.form_field_jq.outerWidth();i={id:this.container_id,"class":t.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title};r=e("<div />",i);if(this.is_multiple){r.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>')}else{r.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(r);this.container=e("#"+this.container_id);this.dropdown=this.container.find("div.chzn-drop").first();s=this.container.height();o=this.f_width-n(this.dropdown);this.dropdown.css({width:o+"px",top:s+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();u=o-n(this.search_container)-n(this.search_field);this.search_field.css({width:u+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};i.prototype.register_observers=function(){var e=this;this.container.mousedown(function(t){return e.container_mousedown(t)});this.container.mouseup(function(t){return e.container_mouseup(t)});this.container.mouseenter(function(t){return e.mouse_enter(t)});this.container.mouseleave(function(t){return e.mouse_leave(t)});this.search_results.mouseup(function(t){return e.search_results_mouseup(t)});this.search_results.mouseover(function(t){return e.search_results_mouseover(t)});this.search_results.mouseout(function(t){return e.search_results_mouseout(t)});this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)});this.form_field_jq.bind("liszt:activate",function(t){return e.activate_field(t)});this.form_field_jq.bind("liszt:open",function(t){return e.container_mousedown(t)});this.search_field.blur(function(t){return e.input_blur(t)});this.search_field.keyup(function(t){return e.keyup_checker(t)});this.search_field.keydown(function(t){return e.keydown_checker(t)});this.search_field.focus(function(t){return e.input_focus(t)});if(this.is_multiple){return this.search_choices.click(function(t){return e.choices_click(t)})}else{return this.container.click(function(e){return e.preventDefault()})}};i.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};i.prototype.container_mousedown=function(t){var n;if(!this.is_disabled){n=t!=null?e(t.target).hasClass("search-choice-close"):false;if(t&&t.type==="mousedown"&&!this.results_showing){t.preventDefault()}if(!this.pending_destroy_click&&!n){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}e(document).click(this.click_test_action);this.results_show()}else if(!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chzn-single").length)){t.preventDefault();this.results_toggle()}return this.activate_field()}else{return this.pending_destroy_click=false}}};i.prototype.container_mouseup=function(e){if(e.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(e)}};i.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};i.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};i.prototype.activate_field=function(){this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};i.prototype.test_active_click=function(t){if(e(t.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};i.prototype.results_build=function(){var e,t,n,i,s;this.parsing=true;this.results_data=r.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}e="";s=this.results_data;for(n=0,i=s.length;n<i;n++){t=s[n];if(t.group){e+=this.result_add_group(t)}else if(!t.empty){e+=this.result_add_option(t);if(t.selected&&this.is_multiple){this.choice_build(t)}else if(t.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(t.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(e);return this.parsing=false};i.prototype.result_add_group=function(t){if(!t.disabled){t.dom_id=this.container_id+"_g_"+t.array_index;return'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>"}else{return""}};i.prototype.result_do_highlight=function(e){var t,n,r,i,s;if(e.length){this.result_clear_highlight();this.result_highlight=e;this.result_highlight.addClass("highlighted");r=parseInt(this.search_results.css("maxHeight"),10);s=this.search_results.scrollTop();i=r+s;n=this.result_highlight.position().top+this.search_results.scrollTop();t=n+this.result_highlight.outerHeight();if(t>=i){return this.search_results.scrollTop(t-r>0?t-r:0)}else if(n<s){return this.search_results.scrollTop(n)}}};i.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};i.prototype.results_show=function(){var e;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}else if(this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}e=this.is_multiple?this.container.height():this.container.height()-1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:e+"px",left:0});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};i.prototype.results_hide=function(){if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({left:"-9000px"});return this.results_showing=false};i.prototype.set_tab_index=function(e){var t;if(this.form_field_jq.attr("tabindex")){t=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);return this.search_field.attr("tabindex",t)}};i.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};i.prototype.search_results_mouseup=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n.length){this.result_highlight=n;this.result_select(t);return this.search_field.focus()}};i.prototype.search_results_mouseover=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n){return this.result_do_highlight(n)}};i.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"||e(t.target).parents(".active-result").first())){return this.result_clear_highlight()}};i.prototype.choices_click=function(t){t.preventDefault();if(this.active_field&&!e(t.target).hasClass("search-choice"||e(t.target).parents(".search-choice").first)&&!this.results_showing){return this.results_show()}};i.prototype.choice_build=function(t){var n,r,i,s=this;if(this.is_multiple&&this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}n=this.container_id+"_c_"+t.array_index;this.choices+=1;if(t.disabled){r='<li class="search-choice search-choice-disabled" id="'+n+'"><span>'+t.html+"</span></li>"}else{r='<li class="search-choice" id="'+n+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>'}this.search_container.before(r);i=e("#"+n).find("a").first();return i.click(function(e){return s.choice_destroy_link_click(e)})};i.prototype.choice_destroy_link_click=function(t){t.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy(e(t.target))}else{return t.stopPropagation}};i.prototype.choice_destroy=function(e){if(this.result_deselect(e.attr("rel"))){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}e.parents("li").first().remove();return this.search_field_scale()}};i.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple){this.selected_item.addClass("chzn-default")}this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};i.prototype.results_reset_cleanup=function(){this.current_value=this.form_field_jq.val();return this.selected_item.find("abbr").remove()};i.prototype.result_select=function(e){var t,n,r,i;if(this.result_highlight){t=this.result_highlight;n=t.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(t)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=t;this.selected_item.removeClass("chzn-default")}t.addClass("result-selected");i=n.substr(n.lastIndexOf("_")+1);r=this.results_data[i];r.selected=true;this.form_field.options[r.options_index].selected=true;if(this.is_multiple){this.choice_build(r)}else{this.selected_item.find("span").first().text(r.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}if(!((e.metaKey||e.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field_jq.val()!==this.current_value){this.form_field_jq.trigger("change",{selected:this.form_field.options[r.options_index].value})}this.current_value=this.form_field_jq.val();return this.search_field_scale()}};i.prototype.result_activate=function(e){return e.addClass("active-result")};i.prototype.result_deactivate=function(e){return e.removeClass("active-result")};i.prototype.result_deselect=function(t){var n,r;r=this.results_data[t];if(!this.form_field.options[r.options_index].disabled){r.selected=false;this.form_field.options[r.options_index].selected=false;n=e("#"+this.container_id+"_o_"+t);n.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[r.options_index].value});this.search_field_scale();return true}else{return false}};i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};i.prototype.winnow_results=function(){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;this.no_results_clear();f=0;l=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html();o=this.search_contains?"":"^";s=new RegExp(o+l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");p=new RegExp(l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");y=this.results_data;for(d=0,m=y.length;d<m;d++){n=y[d];if(!n.disabled&&!n.empty){if(n.group){e("#"+n.dom_id).css("display","none")}else if(!(this.is_multiple&&n.selected)){t=false;a=n.dom_id;u=e("#"+a);if(s.test(n.html)){t=true;f+=1}else if(this.enable_split_word_search&&(n.html.indexOf(" ")>=0||n.html.indexOf("[")===0)){i=n.html.replace(/\[|\]/g,"").split(" ");if(i.length){for(v=0,g=i.length;v<g;v++){r=i[v];if(s.test(r)){t=true;f+=1}}}}if(t){if(l.length){c=n.html.search(p);h=n.html.substr(0,c+l.length)+"</em>"+n.html.substr(c+l.length);h=h.substr(0,c)+"<em>"+h.substr(c)}else{h=n.html}u.html(h);this.result_activate(u);if(n.group_array_index!=null){e("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&a===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(u)}}}}if(f<1&&l.length){return this.no_results(l)}else{return this.winnow_results_set_highlight()}};i.prototype.winnow_results_clear=function(){var t,n,r,i,s;this.search_field.val("");n=this.search_results.find("li");s=[];for(r=0,i=n.length;r<i;r++){t=n[r];t=e(t);if(t.hasClass("group-result")){s.push(t.css("display","auto"))}else if(!this.is_multiple||!t.hasClass("result-selected")){s.push(this.result_activate(t))}else{s.push(void 0)}}return s};i.prototype.winnow_results_set_highlight=function(){var e,t;if(!this.result_highlight){t=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];e=t.length?t.first():this.search_results.find(".active-result").first();if(e!=null){return this.result_do_highlight(e)}}};i.prototype.no_results=function(t){var n;n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');n.find("span").first().html(t);return this.search_results.append(n)};i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};i.prototype.keydown_arrow=function(){var t,n;if(!this.result_highlight){t=this.search_results.find("li.active-result").first();if(t){this.result_do_highlight(e(t))}}else if(this.results_showing){n=this.result_highlight.nextAll("li.active-result").first();if(n){this.result_do_highlight(n)}}if(!this.results_showing){return this.results_show()}};i.prototype.keyup_arrow=function(){var e;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){e=this.result_highlight.prevAll("li.active-result");if(e.length){return this.result_do_highlight(e.first())}else{if(this.choices>0){this.results_hide()}return this.result_clear_highlight()}}};i.prototype.keydown_backstroke=function(){var e;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{e=this.search_container.siblings("li.search-choice").last();if(e.length&&!e.hasClass("search-choice-disabled")){this.pending_backstroke=e;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};i.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};i.prototype.keydown_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode;this.search_field_scale();if(t!==8&&this.pending_backstroke){this.clear_backstroke()}switch(t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(e)}this.mouse_on_container=false;break;case 13:e.preventDefault();break;case 38:e.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break;case 33:if(e.preventDefault){e.preventDefault();e.stopPropagation()}else if(e.keyCode){e.keyCode=0;e.returnValue=false;e.cancelBubble=true}var r;if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");r=Math.min(5,prev_sibs.length)}else{r=0}for(iter=_i=1;_i<=r;iter=++_i){this.keyup_arrow()}break;case 34:if(e.preventDefault){e.preventDefault();e.stopPropagation()}else if(e.keyCode){e.keyCode=0;e.returnValue=false;e.cancelBubble=true}var r;if(this.result_highlight){next_sibs=this.result_highlight.nextAll("li.active-result");r=Math.min(5,next_sibs.length)}else{r=0}for(iter=_j=1;_j<=r;iter=++_j){this.keydown_arrow()}break}};i.prototype.search_field_scale=function(){var t,n,r,i,s,o,u,a,f;if(this.is_multiple){r=0;u=0;s="position:absolute; left: -1000px; top: -1000px; display:none;";o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(a=0,f=o.length;a<f;a++){i=o[a];s+=i+":"+this.search_field.css(i)+";"}n=e("<div />",{style:s});n.text(this.search_field.val());e("body").append(n);u=n.width()+25;n.remove();if(u>this.f_width-10){u=this.f_width-10}this.search_field.css({width:u+"px"});t=this.container.height();return this.dropdown.css({top:t+"px"})}};i.prototype.generate_random_id=function(){var t;t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(e("#"+t).length>0){t+=this.generate_random_char()}return t};return i}(AbstractChosen);r.Chosen=t;n=function(e){var t;return t=e.outerWidth()-e.width()};r.get_side_border_padding=n}).call(this);if(window.jQuery)(function(e){if(!e.support.opacity&&!e.support.style)try{document.execCommand("BackgroundImageCache",false,true)}catch(t){}e.fn.rating=function(t){if(this.length==0)return this;if(typeof arguments[0]=="string"){if(this.length>1){var n=arguments;return this.each(function(){e.fn.rating.apply(e(this),n)})}e.fn.rating[arguments[0]].apply(this,e.makeArray(arguments).slice(1)||[]);return this}var t=e.extend({},e.fn.rating.options,t||{});e.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var n,r=e(this);var i=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,"");var s=e(this.form||document.body);var o=s.data("rating");if(!o||o.call!=e.fn.rating.calls)o={count:0,call:e.fn.rating.calls};var u=o[i]||s.data("rating"+i);if(u)n=u.data("rating");if(u&&n)n.count++;else{n=e.extend({},t||{},(e.metadata?r.metadata():e.meta?r.data():null)||{},{count:0,stars:[],inputs:[]});n.serial=o.count++;u=e('<span class="star-rating-control"/>');r.before(u);u.addClass("rating-to-be-drawn");if(r.attr("disabled")||r.hasClass("disabled"))n.readOnly=true;if(r.hasClass("required"))n.required=true;u.append(n.cancel=e('<div class="rating-cancel"><a title="'+n.cancel+'">'+n.cancelValue+"</a></div>").on("mouseover",function(){e(this).rating("drain");e(this).addClass("star-rating-hover")}).on("mouseout",function(){e(this).rating("draw");e(this).removeClass("star-rating-hover")}).on("click",function(){e(this).rating("select")}).data("rating",n))}var a=e('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+n.serial+'"><a title="'+this.title+'"></a></div>');u.append(a);if(this.id)a.attr("id",this.id);if(this.className)a.addClass(this.className);if(n.half)n.split=2;if(typeof n.split=="number"&&n.split>0){var f=(e.fn.width?a.width():0)||n.starWidth;var l=n.count%n.split,c=Math.floor(f/n.split);a.width(c).find("a").css({"margin-left":"-"+l*c+"px"})}if(n.readOnly)a.addClass("star-rating-readonly");else a.addClass("star-rating-live").on("mouseover",function(){e(this).rating("fill");e(this).rating("focus")}).on("mouseout",function(){e(this).rating("draw");e(this).rating("blur")}).on("click",function(){e(this).rating("select")});if(this.checked)n.current=a;if(this.nodeName=="A"){if(e(this).hasClass("selected"))n.current=a}r.hide();r.on("change.rating",function(t){if(t.selfTriggered)return false;e(this).rating("select")});a.data("rating.input",r.data("rating.star",a));n.stars[n.stars.length]=a[0];n.inputs[n.inputs.length]=r[0];n.rater=o[i]=u;n.context=s;r.data("rating",n);u.data("rating",n);a.data("rating",n);s.data("rating",o);s.data("rating"+i,u)});e(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};e.extend(e.fn.rating,{calls:0,focus:function(){var t=this.data("rating");if(!t)return this;if(!t.focus)return this;var n=e(this).data("rating.input")||e(this.tagName=="INPUT"?this:null);if(t.focus)t.focus.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},blur:function(){var t=this.data("rating");if(!t)return this;if(!t.blur)return this;var n=e(this).data("rating.input")||e(this.tagName=="INPUT"?this:null);if(t.blur)t.blur.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},fill:function(){var e=this.data("rating");if(!e)return this;if(e.readOnly)return;this.rating("drain");this.prevAll().addBack().filter(".rater-"+e.serial).addClass("star-rating-hover")},drain:function(){var e=this.data("rating");if(!e)return this;if(e.readOnly)return;e.rater.children().filter(".rater-"+e.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var t=this.data("rating");if(!t)return this;this.rating("drain");var n=e(t.current);var r=n.length?n.prevAll().addBack().filter(".rater-"+t.serial):null;if(r)r.addClass("star-rating-on");t.cancel[t.readOnly||t.required?"hide":"show"]();this.siblings()[t.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(t,n){var r=this.data("rating");if(!r)return this;if(r.readOnly)return;r.current=null;if(typeof t!="undefined"||this.length>1){if(typeof t=="number")return e(r.stars[t]).rating("select",undefined,n);if(typeof t=="string"){e.each(r.stars,function(){if(e(this).data("rating.input").val()==t)e(this).rating("select",undefined,n)});return this}}else{r.current=this[0].tagName=="INPUT"?this.data("rating.star"):this.is(".rater-"+r.serial)?this:null}this.data("rating",r);this.rating("draw");var i=e(r.current?r.current.data("rating.input"):null);var s=e(r.inputs).filter(":checked");var o=e(r.inputs).not(i);o.prop("checked",false);i.prop("checked",true);e(i.length?i:s).trigger({type:"change",selfTriggered:true});if((n||n==undefined)&&r.callback)r.callback.apply(i[0],[i.val(),e("a",r.current)[0]]);return this},readOnly:function(t,n){var r=this.data("rating");if(!r)return this;r.readOnly=t||t==undefined?true:false;if(n)e(r.inputs).attr("disabled","disabled");else e(r.inputs).removeAttr("disabled");this.data("rating",r);this.rating("draw")},disable:function(){this.rating("readOnly",true,true)},enable:function(){this.rating("readOnly",false,false)}});e.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16}})(jQuery);window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){console.log(Array.prototype.slice.call(arguments))}};(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(e,t){this.defaults.type=e;this.defaults.name=t},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length)settings.single="metadata";var data=$.data(elem,settings.single);if(data)return data;data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m)data=m[1]}else if(settings.type=="elem"){if(!elem.getElementsByTagName)return undefined;var e=elem.getElementsByTagName(settings.name);if(e.length)data=$.trim(e[0].innerHTML)}else if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr)data=attr}if(data.indexOf("{")<0)data="{"+data+"}";data=eval("("+data+")");$.data(elem,settings.single,data);return data}}});$.fn.metadata=function(e){return $.metadata.get(this[0],e)}})(jQuery);(function(){var e=!0,t=null,n=!1,r,i={}.hasOwnProperty,s=[].slice;if(((r=this.google)!=t?r.maps:void 0)!=t){var o=function(e,n){var r,s,o,a,f=this;this.map=e;n==t&&(n={});for(r in n)i.call(n,r)&&(s=n[r],this[r]=s);this.e=new this.constructor.g(this.map);this.n();this.b={};a=["click","zoom_changed","maptypeid_changed"];s=0;for(o=a.length;s<o;s++)r=a[s],u.addListener(this.map,r,function(){return f.unspiderfy()})},u,a,f,l,c,h,p;h=o.prototype;h.VERSION="0.3.1";a=google.maps;u=a.event;c=a.MapTypeId;p=2*Math.PI;h.keepSpiderfied=n;h.markersWontHide=n;h.markersWontMove=n;h.nearbyDistance=20;h.circleSpiralSwitchover=9;h.circleFootSeparation=23;h.circleStartAngle=p/12;h.spiralFootSeparation=26;h.spiralLengthStart=11;h.spiralLengthFactor=4;h.spiderfiedZIndex=1e3;h.usualLegZIndex=10;h.highlightedLegZIndex=20;h.legWeight=1.5;h.legColors={usual:{},highlighted:{}};l=h.legColors.usual;f=h.legColors.highlighted;l[c.HYBRID]=l[c.SATELLITE]="#fff";f[c.HYBRID]=f[c.SATELLITE]="#f00";l[c.TERRAIN]=l[c.ROADMAP]="#444";f[c.TERRAIN]=f[c.ROADMAP]="#f00";h.n=function(){this.a=[];this.j=[]};h.addMarker=function(r){var i,s=this;if(r._oms!=t)return this;r._oms=e;i=[u.addListener(r,"click",function(){return s.F(r)})];this.markersWontHide||i.push(u.addListener(r,"visible_changed",function(){return s.o(r,n)}));this.markersWontMove||i.push(u.addListener(r,"position_changed",function(){return s.o(r,e)}));this.j.push(i);this.a.push(r);return this};h.o=function(e,n){if(e._omsData!=t&&(n||!e.getVisible())&&!(this.s!=t||this.t!=t))return this.H(n?e:t)};h.getMarkers=function(){return this.a.slice(0)};h.removeMarker=function(e){var n,r,i,s,o;e._omsData!=t&&this.unspiderfy();n=this.m(this.a,e);if(0>n)return this;i=this.j.splice(n,1)[0];s=0;for(o=i.length;s<o;s++)r=i[s],u.removeListener(r);delete e._oms;this.a.splice(n,1);return this};h.clearMarkers=function(){var e,t,n,r,i,s,o,a;this.unspiderfy();a=this.a;e=r=0;for(s=a.length;r<s;e=++r){n=a[e];t=this.j[e];i=0;for(o=t.length;i<o;i++)e=t[i],u.removeListener(e);delete n._oms}this.n();return this};h.addListener=function(e,n){var r,i;((i=(r=this.b)[e])!=t?i:r[e]=[]).push(n);return this};h.removeListener=function(e,t){var n;n=this.m(this.b[e],t);0>n||this.b[e].splice(n,1);return this};h.clearListeners=function(e){this.b[e]=[];return this};h.trigger=function(){var e,n,r,i,o,u;n=arguments[0];e=2<=arguments.length?s.call(arguments,1):[];n=(r=this.b[n])!=t?r:[];u=[];i=0;for(o=n.length;i<o;i++)r=n[i],u.push(r.apply(t,e));return u};h.u=function(e,t){var n,r,i,s,o;i=this.circleFootSeparation*(2+e)/p;r=p/e;o=[];for(n=s=0;0<=e?s<e:s>e;n=0<=e?++s:--s)n=this.circleStartAngle+n*r,o.push(new a.Point(t.x+i*Math.cos(n),t.y+i*Math.sin(n)));return o};h.v=function(e,t){var n,r,i,s,o;i=this.spiralLengthStart;n=0;o=[];for(r=s=0;0<=e?s<e:s>e;r=0<=e?++s:--s)n+=this.spiralFootSeparation/i+5e-4*r,r=new a.Point(t.x+i*Math.cos(n),t.y+i*Math.sin(n)),i+=p*this.spiralLengthFactor/n,o.push(r);return o};h.F=function(e){var n,r,i,s,o,u,a,f,l;s=e._omsData!=t;(!s||!this.keepSpiderfied)&&this.unspiderfy();if(s||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e);s=[];o=[];n=this.nearbyDistance;u=n*n;i=this.c(e.position);l=this.a;a=0;for(f=l.length;a<f;a++)n=l[a],n.map!=t&&n.getVisible()&&(r=this.c(n.position),this.f(r,i)<u?s.push({A:n,p:r}):o.push(n));return 1===s.length?this.trigger("click",e):this.G(s,o)};h.markersNearMarker=function(e,r){var i,s,o,u,a,f,l,c,h,p;r==t&&(r=n);if(this.e.getProjection()==t)throw"Must wait for 'idle' event on map before calling markersNearMarker";i=this.nearbyDistance;a=i*i;o=this.c(e.position);u=[];c=this.a;f=0;for(l=c.length;f<l;f++)if(i=c[f],!(i===e||i.map==t||!i.getVisible()))if(s=this.c((h=(p=i._omsData)!=t?p.l:void 0)!=t?h:i.position),this.f(s,o)<a&&(u.push(i),r))break;return u};h.markersNearAnyOtherMarker=function(){var r,i,s,o,u,a,f,l,c,h,p,d;if(this.e.getProjection()==t)throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";a=this.nearbyDistance;r=a*a;o=this.a;a=[];p=0;for(s=o.length;p<s;p++)i=o[p],a.push({q:this.c((f=(c=i._omsData)!=t?c.l:void 0)!=t?f:i.position),d:n});p=this.a;i=f=0;for(c=p.length;f<c;i=++f)if(s=p[i],s.map!=t&&s.getVisible()&&(o=a[i],!o.d)){d=this.a;s=l=0;for(h=d.length;l<h;s=++l)if(u=d[s],s!==i&&u.map!=t&&u.getVisible()&&(u=a[s],(!(s<i)||u.d)&&this.f(o.q,u.q)<r)){o.d=u.d=e;break}}p=this.a;s=[];r=f=0;for(c=p.length;f<c;r=++f)i=p[r],a[r].d&&s.push(i);return s};h.z=function(e){var t=this;return{h:function(){return e._omsData.i.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})},k:function(){return e._omsData.i.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}};h.G=function(t,n){var r,i,s,o,f,l;this.s=e;s=t.length;r=this.C(function(){var e,n,r;r=[];e=0;for(n=t.length;e<n;e++)l=t[e],r.push(l.p);return r}());s=s>=this.circleSpiralSwitchover?this.v(s,r).reverse():this.u(s,r);var c,h,p,d=this;p=[];c=0;for(h=s.length;c<h;c++)i=s[c],r=this.D(i),f=this.B(t,function(e){return d.f(e.p,i)}),f=f.A,o=new a.Polyline({map:this.map,path:[f.position,r],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),f._omsData={l:f.position,i:o},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(o=this.z(f),f._omsData.w={h:u.addListener(f,"mouseover",o.h),k:u.addListener(f,"mouseout",o.k)}),f.setPosition(r),f.setZIndex(Math.round(this.spiderfiedZIndex+i.y)),p.push(f);delete this.s;this.r=e;return this.trigger("spiderfy",p,n)};h.unspiderfy=function(n){var r,i,s,o,a,f,l;n==t&&(n=t);if(this.r==t)return this;this.t=e;o=[];s=[];l=this.a;a=0;for(f=l.length;a<f;a++)i=l[a],i._omsData!=t?(i._omsData.i.setMap(t),i!==n&&i.setPosition(i._omsData.l),i.setZIndex(t),r=i._omsData.w,r!=t&&(u.removeListener(r.h),u.removeListener(r.k)),delete i._omsData,o.push(i)):s.push(i);delete this.t;delete this.r;this.trigger("unspiderfy",o,s);return this};h.f=function(e,t){var n,r;n=e.x-t.x;r=e.y-t.y;return n*n+r*r};h.C=function(e){var t,n,r,i,s;i=n=r=0;for(s=e.length;i<s;i++)t=e[i],n+=t.x,r+=t.y;e=e.length;return new a.Point(n/e,r/e)};h.c=function(e){return this.e.getProjection().fromLatLngToDivPixel(e)};h.D=function(e){return this.e.getProjection().fromDivPixelToLatLng(e)};h.B=function(e,n){var r,i,s,o,u,a;s=u=0;for(a=e.length;u<a;s=++u)if(o=e[s],o=n(o),"undefined"===typeof r||r===t||o<i)i=o,r=s;return e.splice(r,1)[0]};h.m=function(e,n){var r,i,s,o;if(e.indexOf!=t)return e.indexOf(n);r=s=0;for(o=e.length;s<o;r=++s)if(i=e[r],i===n)return r;return-1};o.g=function(e){return this.setMap(e)};o.g.prototype=new a.OverlayView;o.g.prototype.draw=function(){};this.OverlappingMarkerSpiderfier=o}}).call(this);MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/"+"images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){this.prototype[t]=e.prototype[t]}return this}.apply(e,[t])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(true)};MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(this.styles_.length){return}for(var e=0,t;t=this.sizes[e];e++){this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})}};MarkerClusterer.prototype.fitMapToMarkers=function(){var e=this.getMarkers();var t=new google.maps.LatLngBounds;for(var n=0,r;r=e[n];n++){t.extend(r.getPosition())}this.map_.fitBounds(t)};MarkerClusterer.prototype.setStyles=function(e){this.styles_=e};MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.calculator_=function(e,t){var n=0;var r=e.length;var i=r;while(i!==0){i=parseInt(i/10,10);n++}n=Math.min(n,t);return{text:r,index:n}};MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(e,t){for(var n=0,r;r=e[n];n++){this.pushMarkerTo_(r)}if(!t){this.redraw()}};MarkerClusterer.prototype.pushMarkerTo_=function(e){e.isAdded=false;if(e["draggable"]){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=false;t.repaint()})}this.markers_.push(e)};MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e);if(!t){this.redraw()}};MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf){t=this.markers_.indexOf(e)}else{for(var n=0,r;r=this.markers_[n];n++){if(r==e){t=n;break}}}if(t==-1){return false}e.setMap(null);this.markers_.splice(t,1);return true};MarkerClusterer.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);if(!t&&n){this.resetViewport();this.redraw();return true}else{return false}};MarkerClusterer.prototype.removeMarkers=function(e,t){var n=false;for(var r=0,i;i=e[r];r++){var s=this.removeMarker_(i);n=n||s}if(!t&&n){this.resetViewport();this.redraw();return true}};MarkerClusterer.prototype.setReady_=function(e){if(!this.ready_){this.ready_=e;this.createClusters_()}};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(e){this.map_=e};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e};MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection();var n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng());var r=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng());var i=t.fromLatLngToDivPixel(n);i.x+=this.gridSize_;i.y-=this.gridSize_;var s=t.fromLatLngToDivPixel(r);s.x-=this.gridSize_;s.y+=this.gridSize_;var o=t.fromDivPixelToLatLng(i);var u=t.fromDivPixelToLatLng(s);e.extend(o);e.extend(u);return e};MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(true);this.markers_=[]};MarkerClusterer.prototype.resetViewport=function(e){for(var t=0,n;n=this.clusters_[t];t++){n.remove()}for(var t=0,r;r=this.markers_[t];t++){r.isAdded=false;if(e){r.setMap(null)}}this.clusters_=[]};MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var t=0,n;n=e[t];t++){n.remove()}},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t){return 0}var n=6371;var r=(t.lat()-e.lat())*Math.PI/180;var i=(t.lng()-e.lng())*Math.PI/180;var s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);var o=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));var u=n*o;return u};MarkerClusterer.prototype.addToClosestCluster_=function(e){var t=4e4;var n=null;var r=e.getPosition();for(var i=0,s;s=this.clusters_[i];i++){var o=s.getCenter();if(o){var u=this.distanceBetweenPoints_(o,e.getPosition());if(u<t){t=u;n=s}}}if(n&&n.isMarkerInClusterBounds(e)){n.addMarker(e)}else{var s=new Cluster(this);s.addMarker(e);this.clusters_.push(s)}};MarkerClusterer.prototype.createClusters_=function(){if(!this.ready_){return}var e=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast());var t=this.getExtendedBounds(e);for(var n=0,r;r=this.markers_[n];n++){if(!r.isAdded&&this.isMarkerInBounds_(r,t)){this.addToClosestCluster_(r)}}};Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf){return this.markers_.indexOf(e)!=-1}else{for(var t=0,n;n=this.markers_[t];t++){if(n==e){return true}}}return false};Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e)){return false}if(!this.center_){this.center_=e.getPosition();this.calculateBounds_()}else{if(this.averageCenter_){var t=this.markers_.length+1;var n=(this.center_.lat()*(t-1)+e.getPosition().lat())/t;var r=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(n,r);this.calculateBounds_()}}e.isAdded=true;this.markers_.push(e);var i=this.markers_.length;if(i<this.minClusterSize_&&e.getMap()!=this.map_){e.setMap(this.map_)}if(i==this.minClusterSize_){for(var s=0;s<i;s++){this.markers_[s].setMap(null)}}if(i>=this.minClusterSize_){e.setMap(null)}this.updateIcon();return true};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);var t=this.getMarkers();for(var n=0,r;r=t[n];n++){e.extend(r.getPosition())}return e};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)};Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom();var t=this.markerClusterer_.getMaxZoom();if(t&&e>t){for(var n=0,r;r=this.markers_[n];n++){r.setMap(this.map_)}return}if(this.markers_.length<this.minClusterSize_){this.clusterIcon_.hide();return}var i=this.markerClusterer_.getStyles().length;var s=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.setSums(s);this.clusterIcon_.show()};ClusterIcon.prototype.triggerClusterClick=function(){var e=this.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"clusterclick",this.cluster_);if(e.isZoomOnClick()){this.map_.fitBounds(this.cluster_.getBounds())}};ClusterIcon.prototype.onAdd=function(){this.div_=document.createElement("DIV");if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e);this.div_.innerHTML=this.sums_.text}var t=this.getPanes();t.overlayMouseTarget.appendChild(this.div_);var n=this;google.maps.event.addDomListener(this.div_,"click",function(){n.triggerClusterClick()})};ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);t.x-=parseInt(this.width_/2,10);t.y-=parseInt(this.height_/2,10);return t};ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px";this.div_.style.left=e.x+"px"}};ClusterIcon.prototype.hide=function(){if(this.div_){this.div_.style.display="none"}this.visible_=false};ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e);this.div_.style.display=""}this.visible_=true};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){if(this.div_&&this.div_.parentNode){this.hide();this.div_.parentNode.removeChild(this.div_);this.div_=null}};ClusterIcon.prototype.setSums=function(e){this.sums_=e;this.text_=e.text;this.index_=e.index;if(this.div_){this.div_.innerHTML=e.text}this.useStyle()};ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t["url"];this.height_=t["height"];this.width_=t["width"];this.textColor_=t["textColor"];this.anchor_=t["anchor"];this.textSize_=t["textSize"];this.backgroundPosition_=t["backgroundPosition"]};ClusterIcon.prototype.setCenter=function(e){this.center_=e};ClusterIcon.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var n=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+n+";");if(typeof this.anchor_==="object"){if(typeof this.anchor_[0]==="number"&&this.anchor_[0]>0&&this.anchor_[0]<this.height_){t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;")}else{t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;")}if(typeof this.anchor_[1]==="number"&&this.anchor_[1]>0&&this.anchor_[1]<this.width_){t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;")}else{t.push("width:"+this.width_+"px; text-align:center;")}}else{t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;")}var r=this.textColor_?this.textColor_:"black";var i=this.textSize_?this.textSize_:11;t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+r+"; position:absolute; font-size:"+i+"px; font-family:Arial,sans-serif; font-weight:bold");return t.join("")};window["MarkerClusterer"]=MarkerClusterer;MarkerClusterer.prototype["addMarker"]=MarkerClusterer.prototype.addMarker;MarkerClusterer.prototype["addMarkers"]=MarkerClusterer.prototype.addMarkers;MarkerClusterer.prototype["clearMarkers"]=MarkerClusterer.prototype.clearMarkers;MarkerClusterer.prototype["fitMapToMarkers"]=MarkerClusterer.prototype.fitMapToMarkers;MarkerClusterer.prototype["getCalculator"]=MarkerClusterer.prototype.getCalculator;MarkerClusterer.prototype["getGridSize"]=MarkerClusterer.prototype.getGridSize;MarkerClusterer.prototype["getExtendedBounds"]=MarkerClusterer.prototype.getExtendedBounds;MarkerClusterer.prototype["getMap"]=MarkerClusterer.prototype.getMap;MarkerClusterer.prototype["getMarkers"]=MarkerClusterer.prototype.getMarkers;MarkerClusterer.prototype["getMaxZoom"]=MarkerClusterer.prototype.getMaxZoom;MarkerClusterer.prototype["getStyles"]=MarkerClusterer.prototype.getStyles;MarkerClusterer.prototype["getTotalClusters"]=MarkerClusterer.prototype.getTotalClusters;MarkerClusterer.prototype["getTotalMarkers"]=MarkerClusterer.prototype.getTotalMarkers;MarkerClusterer.prototype["redraw"]=MarkerClusterer.prototype.redraw;MarkerClusterer.prototype["removeMarker"]=MarkerClusterer.prototype.removeMarker;MarkerClusterer.prototype["removeMarkers"]=MarkerClusterer.prototype.removeMarkers;MarkerClusterer.prototype["resetViewport"]=MarkerClusterer.prototype.resetViewport;MarkerClusterer.prototype["repaint"]=MarkerClusterer.prototype.repaint;MarkerClusterer.prototype["setCalculator"]=MarkerClusterer.prototype.setCalculator;MarkerClusterer.prototype["setGridSize"]=MarkerClusterer.prototype.setGridSize;MarkerClusterer.prototype["setMaxZoom"]=MarkerClusterer.prototype.setMaxZoom;MarkerClusterer.prototype["onAdd"]=MarkerClusterer.prototype.onAdd;MarkerClusterer.prototype["draw"]=MarkerClusterer.prototype.draw;Cluster.prototype["getCenter"]=Cluster.prototype.getCenter;Cluster.prototype["getSize"]=Cluster.prototype.getSize;Cluster.prototype["getMarkers"]=Cluster.prototype.getMarkers;ClusterIcon.prototype["onAdd"]=ClusterIcon.prototype.onAdd;ClusterIcon.prototype["draw"]=ClusterIcon.prototype.draw;ClusterIcon.prototype["onRemove"]=ClusterIcon.prototype.onRemove